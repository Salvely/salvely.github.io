<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Arch Linux探索记录 - Wen Gao 的小站</title><meta name=Description content="文章描述"><meta property="og:url" content="https://salvely.github.io/arch-linux%E6%8E%A2%E7%B4%A2%E8%AE%B0%E5%BD%95/"><meta property="og:site_name" content="Wen Gao 的小站"><meta property="og:title" content="Arch Linux探索记录"><meta property="og:description" content="文章描述"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-05-23T18:03:43+08:00"><meta property="article:modified_time" content="2025-06-06T14:11:30+08:00"><meta property="article:tag" content="标签"><meta property="og:image" content="https://salvely.github.io/images/avatar.webp"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://salvely.github.io/images/avatar.webp"><meta name=twitter:title content="Arch Linux探索记录"><meta name=twitter:description content="文章描述"><meta name=application-name content="DoIt"><meta name=apple-mobile-web-app-title content="DoIt"><meta name=theme-color content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=https://salvely.github.io/arch-linux%E6%8E%A2%E7%B4%A2%E8%AE%B0%E5%BD%95/><link rel=prev href=https://salvely.github.io/wsl2%E4%B8%8A%E7%9A%84arch-linux%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B%E8%AE%B0%E5%BD%95/><link rel=stylesheet href=/css/main.min.css><link rel=stylesheet href=/css/style.min.css><meta name=google-site-verification content="UJapM2d84iH6w1FVXFWeXhz_PoqtMDTU3mmNjGfRe1E"><meta name=msvalidate.01 content="C974411E5F5A79173F7830327E92F59E"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Arch Linux探索记录","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https://salvely.github.io/arch-linux%E6%8E%A2%E7%B4%A2%E8%AE%B0%E5%BD%95/"},"image":["https://salvely.github.io/images/Apple-Devices-Preview.png"],"genre":"posts","keywords":["标签"],"wordcount":17220,"url":"https://salvely.github.io/arch-linux%E6%8E%A2%E7%B4%A2%E8%AE%B0%E5%BD%95/","datePublished":"2025-05-23T18:03:43+08:00","dateModified":"2025-06-06T14:11:30+08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"xxxx","logo":{"@type":"ImageObject","url":"https://salvely.github.io/images/Salvely.jpg","width":400,"height":400}},"author":[{"@type":"Person","name":"Wen Gao","url":"https://github.com/Salvely"}],"description":"文章描述"}</script></head><body data-instant-intensity=viewport class="tw-flex tw-min-h-screen tw-flex-col"><script type=text/javascript>function setTheme(e){document.body.setAttribute("theme",e),document.documentElement.className=e,document.documentElement.style.setProperty("color-scheme",e==="light"?"light":"dark"),e==="light"?document.documentElement.classList.remove("tw-dark"):document.documentElement.classList.add("tw-dark"),window.theme=e,window.isDark=window.theme!=="light"}function saveTheme(e){window.localStorage&&localStorage.setItem("theme",e)}function getMeta(e){const t=document.getElementsByTagName("meta");for(let n=0;n<t.length;n++)if(t[n].getAttribute("name")===e)return t[n];return""}if(window.localStorage&&localStorage.getItem("theme")){let e=localStorage.getItem("theme");e==="light"||e==="dark"?setTheme(e):setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else"auto"==="light"||"auto"==="dark"?(setTheme("auto"),saveTheme("auto")):(saveTheme("auto"),setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));let metaColors={light:"#f8f8f8",dark:"#161b22"};getMeta("theme-color").content=metaColors[document.body.getAttribute("theme")],window.switchThemeEventSet=new Set</script><div id=back-to-top></div><div id=mask></div><header class="desktop print:!tw-hidden" id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Wen Gao 的小站"><span class=tw-mr-1><svg class="icon" viewBox="0 0 576 512"><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1.0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7.0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174 402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7-43.2-43.2c-4.1-4.1-10.8-4.1-14.8.0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg></span>Wen Gao 的小站</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>所有文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><a class=menu-item href=/series/>系列 </a><a class=menu-item href=/about/>关于 </a><a class=menu-item href=https://github.com/Salvely/salvely.github.io title=GitHub rel="noopener noreferrer" target=_blank><svg class="icon" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<button class="search-button search-toggle" id=search-toggle-desktop title=搜索>
<svg class="icon" viewBox="0 0 512 512"><path d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</button>
<button class="search-button search-clear" id=search-clear-desktop title=清空>
<svg class="icon" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3.0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3.0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3.0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3.0 17L312 256l65.6 65.1z"/></svg>
</button>
<span class="search-button search-loading tw-animate-spin" id=search-loading-desktop><svg class="icon" viewBox="0 0 512 512"><path d="M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49.0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156.0c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"/></svg>
</span></span><button class="menu-item theme-select" aria-label=切换主题>
<svg class="icon" viewBox="0 0 512 512"><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705.0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/></svg>
<select class=color-theme-select id=theme-select-desktop aria-label=切换主题><option value=light>浅色</option><option value=dark>深色</option><option value=auto>跟随系统</option></select></button></div></div></div></header><header class="mobile print:!tw-hidden" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Wen Gao 的小站"><span class=tw-mr-1><svg class="icon" viewBox="0 0 576 512"><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1.0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7.0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174 402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7-43.2-43.2c-4.1-4.1-10.8-4.1-14.8.0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg></span>Wen Gao 的小站</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<button class="search-button search-toggle tw-h-10" id=search-toggle-mobile title=搜索>
<svg class="icon" viewBox="0 0 512 512"><path d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</button>
<button class="search-button search-clear tw-h-fit" id=search-clear-mobile title=清空>
<svg class="icon" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3.0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3.0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3.0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3.0 17L312 256l65.6 65.1z"/></svg>
</button>
<span class="search-button search-loading tw-animate-spin" id=search-loading-mobile><svg class="icon" viewBox="0 0 512 512"><path d="M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49.0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156.0c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51.0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"/></svg></span></div><button class=search-cancel id=search-cancel-mobile>
取消</button></div><a class=menu-item href=/posts/ title>所有文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a class=menu-item href=/series/ title>系列</a><a class=menu-item href=/about/ title>关于</a><a class=menu-item href=https://github.com/Salvely/salvely.github.io title=GitHub rel="noopener noreferrer" target=_blank><svg class="icon" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></a><button class="menu-item theme-select tw-w-full" aria-label=切换主题>
<svg class="icon" viewBox="0 0 512 512"><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705.0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/></svg>
<select class=color-theme-select id=theme-select-mobile aria-label=切换主题><option value=light>浅色</option><option value=dark>深色</option><option value=auto>跟随系统</option></select></button></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class="tw-mx-4 tw-flex-1"><div class="toc print:!tw-hidden" id=toc-auto><h2 class=toc-title>目录</h2><div class="toc-content always-active" id=toc-content-auto><nav id=TableOfContents><ul><li><a href=#用户管理>用户管理</a></li><li><a href=#pacman-初探>Pacman 初探</a></li><li><a href=#默认终端美化>默认终端美化</a><ul><li><a href=#1-打开-windows-终端的设置文件>1. 打开 Windows 终端的设置文件</a><ul><li><a href=#方法-1通过界面快捷打开>方法 1：通过界面快捷打开</a></li><li><a href=#方法-2直接定位文件路径><strong>方法 2：直接定位文件路径</strong></a></li></ul></li><li><a href=#2-修改配置文件以-arch-linux-wsl2-为例>2. 修改配置文件（以 Arch Linux WSL2 为例）</a><ul><li><a href=#示例配置>示例配置</a></li><li><a href=#关键参数说明>关键参数说明</a></li></ul></li><li><a href=#3-保存并生效>3. 保存并生效</a></li><li><a href=#4-推荐的内置颜色主题>4. 推荐的内置颜色主题</a><ul><li><a href=#常用主题列表><strong>常用主题列表</strong></a></li></ul></li><li><a href=#5-安装新字体可选>5. 安装新字体（可选）</a></li><li><a href=#6-验证效果>6. 验证效果</a></li><li><a href=#常见问题>常见问题</a><ul><li><a href=#q1修改后终端未生效>Q1：修改后终端未生效？</a></li><li><a href=#q2想恢复默认配置>Q2：想恢复默认配置？</a></li></ul></li></ul></li><li><a href=#vim安装>Vim安装</a></li><li><a href=#再探pacman和包管理>再探Pacman和包管理</a><ul><li><a href=#软件包管理器及软件包>软件包管理器及软件包</a></li><li><a href=#arch-包格式及创建软件包>Arch 包格式及创建软件包</a><ul><li><a href=#bsdlinux及类unix系统>BSD，Linux及类Unix系统</a></li><li><a href=#posix标准详解>POSIX标准详解</a></li><li><a href=#操作系统操作系统内核系统调用接口及ports软件>操作系统，操作系统内核，系统调用接口及Ports软件</a></li><li><a href=#操作系统构建系统和包管理工具的关系>操作系统，构建系统和包管理工具的关系</a></li><li><a href=#arch官方软件仓库--aur用户软件仓库>Arch官方软件仓库 & AUR用户软件仓库</a><ul><li><a href=#简明区别>简明区别</a></li><li><a href=#官方仓库>官方仓库</a></li><li><a href=#aur用户软件仓库>AUR用户软件仓库</a></li></ul></li><li><a href=#镜像源>镜像源</a></li><li><a href=#arch-构建系统>Arch 构建系统</a></li><li><a href=#helloworld软件包的创建安装和卸载>HelloWorld软件包的创建、安装和卸载</a></li></ul></li><li><a href=#pacman>Pacman</a></li></ul></li><li><a href=#命令高亮>命令高亮</a><ul><li><a href=#启用-bash-命令语法高亮>启用 Bash 命令语法高亮</a><ul><li><a href=#方法-1使用bash-syntax-highlighting>方法 1：使用 <code>bash-syntax-highlighting</code></a></li><li><a href=#方法-2使用highlight工具>方法 2：使用 <code>highlight</code> 工具</a></li></ul></li><li><a href=#git-命令高亮>Git 命令高亮</a><ul><li><a href=#方法-1git-原生颜色配置>方法 1：Git 原生颜色配置</a></li><li><a href=#方法-2增强-git-提示符显示分支状态>方法 2：增强 Git 提示符（显示分支/状态）</a></li></ul></li><li><a href=#文件列表高亮ls命令>文件列表高亮（<code>ls</code> 命令）</a></li><li><a href=#终端主题优化windows-终端配置>终端主题优化（Windows 终端配置）</a></li><li><a href=#最终效果>最终效果</a></li><li><a href=#一键配置脚本><strong>一键配置脚本</strong></a></li><li><a href=#注意事项><strong>注意事项</strong></a></li></ul></li><li><a href=#再探用户管理>再探用户管理</a></li></ul></nav></div></div><dialog id=toc-dialog class="tw-max-w-full tw-w-full tw-max-h-full tw-h-full tw-ml-16"><div class="toc tw-mx-4 tw-max-w-full"><h2 class="tw-mx-0 tw-my-6 tw-uppercase tw-text-2xl">目录</h2><div class=toc-content><nav id=TableOfContents><ul><li><a href=#用户管理>用户管理</a></li><li><a href=#pacman-初探>Pacman 初探</a></li><li><a href=#默认终端美化>默认终端美化</a><ul><li><a href=#1-打开-windows-终端的设置文件>1. 打开 Windows 终端的设置文件</a><ul><li><a href=#方法-1通过界面快捷打开>方法 1：通过界面快捷打开</a></li><li><a href=#方法-2直接定位文件路径><strong>方法 2：直接定位文件路径</strong></a></li></ul></li><li><a href=#2-修改配置文件以-arch-linux-wsl2-为例>2. 修改配置文件（以 Arch Linux WSL2 为例）</a><ul><li><a href=#示例配置>示例配置</a></li><li><a href=#关键参数说明>关键参数说明</a></li></ul></li><li><a href=#3-保存并生效>3. 保存并生效</a></li><li><a href=#4-推荐的内置颜色主题>4. 推荐的内置颜色主题</a><ul><li><a href=#常用主题列表><strong>常用主题列表</strong></a></li></ul></li><li><a href=#5-安装新字体可选>5. 安装新字体（可选）</a></li><li><a href=#6-验证效果>6. 验证效果</a></li><li><a href=#常见问题>常见问题</a><ul><li><a href=#q1修改后终端未生效>Q1：修改后终端未生效？</a></li><li><a href=#q2想恢复默认配置>Q2：想恢复默认配置？</a></li></ul></li></ul></li><li><a href=#vim安装>Vim安装</a></li><li><a href=#再探pacman和包管理>再探Pacman和包管理</a><ul><li><a href=#软件包管理器及软件包>软件包管理器及软件包</a></li><li><a href=#arch-包格式及创建软件包>Arch 包格式及创建软件包</a><ul><li><a href=#bsdlinux及类unix系统>BSD，Linux及类Unix系统</a></li><li><a href=#posix标准详解>POSIX标准详解</a></li><li><a href=#操作系统操作系统内核系统调用接口及ports软件>操作系统，操作系统内核，系统调用接口及Ports软件</a></li><li><a href=#操作系统构建系统和包管理工具的关系>操作系统，构建系统和包管理工具的关系</a></li><li><a href=#arch官方软件仓库--aur用户软件仓库>Arch官方软件仓库 & AUR用户软件仓库</a><ul><li><a href=#简明区别>简明区别</a></li><li><a href=#官方仓库>官方仓库</a></li><li><a href=#aur用户软件仓库>AUR用户软件仓库</a></li></ul></li><li><a href=#镜像源>镜像源</a></li><li><a href=#arch-构建系统>Arch 构建系统</a></li><li><a href=#helloworld软件包的创建安装和卸载>HelloWorld软件包的创建、安装和卸载</a></li></ul></li><li><a href=#pacman>Pacman</a></li></ul></li><li><a href=#命令高亮>命令高亮</a><ul><li><a href=#启用-bash-命令语法高亮>启用 Bash 命令语法高亮</a><ul><li><a href=#方法-1使用bash-syntax-highlighting>方法 1：使用 <code>bash-syntax-highlighting</code></a></li><li><a href=#方法-2使用highlight工具>方法 2：使用 <code>highlight</code> 工具</a></li></ul></li><li><a href=#git-命令高亮>Git 命令高亮</a><ul><li><a href=#方法-1git-原生颜色配置>方法 1：Git 原生颜色配置</a></li><li><a href=#方法-2增强-git-提示符显示分支状态>方法 2：增强 Git 提示符（显示分支/状态）</a></li></ul></li><li><a href=#文件列表高亮ls命令>文件列表高亮（<code>ls</code> 命令）</a></li><li><a href=#终端主题优化windows-终端配置>终端主题优化（Windows 终端配置）</a></li><li><a href=#最终效果>最终效果</a></li><li><a href=#一键配置脚本><strong>一键配置脚本</strong></a></li><li><a href=#注意事项><strong>注意事项</strong></a></li></ul></li><li><a href=#再探用户管理>再探用户管理</a></li></ul></nav></div></div></dialog><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC","true")</script><article class="page single print:!tw-w-full print:!tw-max-w-none print:!tw-m-0 print:!tw-p-0"><h1 class=single-title data-pagefind-meta=date:2025-05-23 data-pagefind-body>Arch Linux探索记录</h1><h2 class=single-subtitle>模板文章的副标题</h2><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><span class=screen-reader-text></span><a href=https://salvely.github.io/authors/salvely/><img class="tw-inline-block tw-max-h-4 tw-rounded-full tw-translate-y-[-2px] tw-mr-1" src=/images/Salvely.jpg srcset="/images/Salvely_hu_d1b6716dad6d20f5.webp 16w, /images/Salvely_hu_e7e468e0168e4ede.webp 24w, /images/Salvely_hu_67e7b6815a7669d2.webp 32w" alt="Wen Gao avatar" height=16 width=16>Wen Gao</a></span>
</span>&nbsp;<span class=post-category>收录于 </span>&nbsp;<span class=post-category>类别 <a href=/categories/%E7%B1%BB%E5%88%AB/><svg class="icon" viewBox="0 0 512 512"><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49.0 112v288c0 26.51 21.49 48 48 48h416c26.51.0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>类别</a></span>&nbsp;<span class=post-category>和</span>&nbsp;<span class=post-series>系列 <a href=/series/%E7%B3%BB%E5%88%97/><svg class="icon" viewBox="0 0 512 512"><path d="M464 32H48C21.49 32 0 53.49.0 80v352c0 26.51 21.49 48 48 48h416c26.51.0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm-6 4e2H54a6 6 0 01-6-6V86a6 6 0 016-6h404a6 6 0 016 6v340a6 6 0 01-6 6zm-42-92v24c0 6.627-5.373 12-12 12H204c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h2e2c6.627.0 12 5.373 12 12zm0-96v24c0 6.627-5.373 12-12 12H204c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h2e2c6.627.0 12 5.373 12 12zm0-96v24c0 6.627-5.373 12-12 12H204c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h2e2c6.627.0 12 5.373 12 12zm-252 12c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36zm0 96c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36zm0 96c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36z"/></svg>系列</a></span></div><div class=post-meta-line><svg class="icon" viewBox="0 0 448 512"><path d="M148 288h-40c-6.6.0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h48c26.5.0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3.0 6-2.7 6-6z"/></svg>&nbsp;<time datetime=2025-05-23>2025-05-23</time>&nbsp;<svg class="icon" viewBox="0 0 576 512"><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1.0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7.0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174 402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7-43.2-43.2c-4.1-4.1-10.8-4.1-14.8.0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg>&nbsp;<time datetime=2025-06-06>2025-06-06</time>&nbsp;<svg class="icon" viewBox="0 0 512 512"><path d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3.0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9.0l60.1 60.1c18.8 18.7 18.8 49.1.0 67.9zM284.2 99.8 21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3.0-17l-111-111c-4.8-4.7-12.4-4.7-17.1.0zM124.1 339.9c-5.5-5.5-5.5-14.3.0-19.8l154-154c5.5-5.5 14.3-5.5 19.8.0s5.5 14.3.0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8.0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"/></svg>&nbsp;约 17220 字&nbsp;
<svg class="icon" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5.0-2e2-89.5-2e2-2e2S145.5 56 256 56s2e2 89.5 2e2 2e2-89.5 2e2-2e2 2e2zm61.8-104.4-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6.0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg>&nbsp;预计阅读 76 分钟&nbsp;</div></div><div class="details series-nav open"><div class="details-summary series-title"><span>系列 - 系列</span>
<span class=details-icon><svg class="icon" viewBox="0 0 256 512"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9.0l-22.6-22.6c-9.4-9.4-9.4-24.6.0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6.0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9.0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg></span></div><div class="details-content series-content"><nav><ul><li><span class=active>Arch Linux探索记录</span></li></ul></nav></div></div><div class="details toc print:!tw-block" id=toc-static kept><div class="details-summary toc-title"><span>目录</span>
<span class=details-icon><svg class="icon" viewBox="0 0 256 512"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9.0l-22.6-22.6c-9.4-9.4-9.4-24.6.0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6.0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9.0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#用户管理>用户管理</a></li><li><a href=#pacman-初探>Pacman 初探</a></li><li><a href=#默认终端美化>默认终端美化</a><ul><li><a href=#1-打开-windows-终端的设置文件>1. 打开 Windows 终端的设置文件</a><ul><li><a href=#方法-1通过界面快捷打开>方法 1：通过界面快捷打开</a></li><li><a href=#方法-2直接定位文件路径><strong>方法 2：直接定位文件路径</strong></a></li></ul></li><li><a href=#2-修改配置文件以-arch-linux-wsl2-为例>2. 修改配置文件（以 Arch Linux WSL2 为例）</a><ul><li><a href=#示例配置>示例配置</a></li><li><a href=#关键参数说明>关键参数说明</a></li></ul></li><li><a href=#3-保存并生效>3. 保存并生效</a></li><li><a href=#4-推荐的内置颜色主题>4. 推荐的内置颜色主题</a><ul><li><a href=#常用主题列表><strong>常用主题列表</strong></a></li></ul></li><li><a href=#5-安装新字体可选>5. 安装新字体（可选）</a></li><li><a href=#6-验证效果>6. 验证效果</a></li><li><a href=#常见问题>常见问题</a><ul><li><a href=#q1修改后终端未生效>Q1：修改后终端未生效？</a></li><li><a href=#q2想恢复默认配置>Q2：想恢复默认配置？</a></li></ul></li></ul></li><li><a href=#vim安装>Vim安装</a></li><li><a href=#再探pacman和包管理>再探Pacman和包管理</a><ul><li><a href=#软件包管理器及软件包>软件包管理器及软件包</a></li><li><a href=#arch-包格式及创建软件包>Arch 包格式及创建软件包</a><ul><li><a href=#bsdlinux及类unix系统>BSD，Linux及类Unix系统</a></li><li><a href=#posix标准详解>POSIX标准详解</a></li><li><a href=#操作系统操作系统内核系统调用接口及ports软件>操作系统，操作系统内核，系统调用接口及Ports软件</a></li><li><a href=#操作系统构建系统和包管理工具的关系>操作系统，构建系统和包管理工具的关系</a></li><li><a href=#arch官方软件仓库--aur用户软件仓库>Arch官方软件仓库 & AUR用户软件仓库</a><ul><li><a href=#简明区别>简明区别</a></li><li><a href=#官方仓库>官方仓库</a></li><li><a href=#aur用户软件仓库>AUR用户软件仓库</a></li></ul></li><li><a href=#镜像源>镜像源</a></li><li><a href=#arch-构建系统>Arch 构建系统</a></li><li><a href=#helloworld软件包的创建安装和卸载>HelloWorld软件包的创建、安装和卸载</a></li></ul></li><li><a href=#pacman>Pacman</a></li></ul></li><li><a href=#命令高亮>命令高亮</a><ul><li><a href=#启用-bash-命令语法高亮>启用 Bash 命令语法高亮</a><ul><li><a href=#方法-1使用bash-syntax-highlighting>方法 1：使用 <code>bash-syntax-highlighting</code></a></li><li><a href=#方法-2使用highlight工具>方法 2：使用 <code>highlight</code> 工具</a></li></ul></li><li><a href=#git-命令高亮>Git 命令高亮</a><ul><li><a href=#方法-1git-原生颜色配置>方法 1：Git 原生颜色配置</a></li><li><a href=#方法-2增强-git-提示符显示分支状态>方法 2：增强 Git 提示符（显示分支/状态）</a></li></ul></li><li><a href=#文件列表高亮ls命令>文件列表高亮（<code>ls</code> 命令）</a></li><li><a href=#终端主题优化windows-终端配置>终端主题优化（Windows 终端配置）</a></li><li><a href=#最终效果>最终效果</a></li><li><a href=#一键配置脚本><strong>一键配置脚本</strong></a></li><li><a href=#注意事项><strong>注意事项</strong></a></li></ul></li><li><a href=#再探用户管理>再探用户管理</a></li></ul></nav></div></div><div class=content id=content data-pagefind-body><p>要开始折腾Arch辣！自由探索时间到！</p><h2 id=用户管理 class=headerLink><a href=#%e7%94%a8%e6%88%b7%e7%ae%a1%e7%90%86 class=header-mark></a>1 用户管理</h2><p>添加用户并设置密码：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-1 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=o>[</span>root@DESKTOP-ROOSFVQ ~<span class=o>]</span><span class=c1># useradd -m gwen</span>
</span></span><span class=line><span class=cl><span class=o>[</span>root@DESKTOP-ROOSFVQ ~<span class=o>]</span><span class=c1># passwd gwen</span>
</span></span><span class=line><span class=cl>New password:
</span></span><span class=line><span class=cl>Retype new password:
</span></span><span class=line><span class=cl>passwd: password updated successfully</span></span></code></pre></div><p>接下来我们想要将<code>gwen</code>设置为默认用户，需要在<code>/etc/wsl.conf</code>中进行如下设置：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">text</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-2 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl>[user]
</span></span><span class=line><span class=cl>default=_username_</span></span></code></pre></div><p>要进行如上更改，我们需要一个文本编辑器。</p><h2 id=pacman-初探 class=headerLink><a href=#pacman-%e5%88%9d%e6%8e%a2 class=header-mark></a>2 Pacman 初探</h2><p>我们先来看看我们都安装了啥，通过Google检索【arch linux how many packages and tools I have installed】，它告知我们可以使用<code>pacman -Qq</code>命令来查看所有安装的包：</p><div class="code-block highlight is-closed show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">shell</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-3 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=o>[</span>root@DESKTOP-ROOSFVQ ~<span class=o>]</span><span class=c1># pacman -Qq</span>
</span></span><span class=line><span class=cl>warning: database file <span class=k>for</span> <span class=s1>&#39;core&#39;</span> does not exist <span class=o>(</span>use <span class=s1>&#39;-Sy&#39;</span> to download<span class=o>)</span>
</span></span><span class=line><span class=cl>warning: database file <span class=k>for</span> <span class=s1>&#39;extra&#39;</span> does not exist <span class=o>(</span>use <span class=s1>&#39;-Sy&#39;</span> to download<span class=o>)</span>
</span></span><span class=line><span class=cl>acl
</span></span><span class=line><span class=cl>archlinux-keyring
</span></span><span class=line><span class=cl>attr
</span></span><span class=line><span class=cl>audit
</span></span><span class=line><span class=cl>base
</span></span><span class=line><span class=cl>bash
</span></span><span class=line><span class=cl>brotli
</span></span><span class=line><span class=cl>bzip2
</span></span><span class=line><span class=cl>ca-certificates
</span></span><span class=line><span class=cl>ca-certificates-mozilla
</span></span><span class=line><span class=cl>ca-certificates-utils
</span></span><span class=line><span class=cl>coreutils
</span></span><span class=line><span class=cl>cryptsetup
</span></span><span class=line><span class=cl>curl
</span></span><span class=line><span class=cl>dbus
</span></span><span class=line><span class=cl>dbus-broker
</span></span><span class=line><span class=cl>dbus-broker-units
</span></span><span class=line><span class=cl>dbus-units
</span></span><span class=line><span class=cl>device-mapper
</span></span><span class=line><span class=cl>e2fsprogs
</span></span><span class=line><span class=cl>expat
</span></span><span class=line><span class=cl>file
</span></span><span class=line><span class=cl>filesystem
</span></span><span class=line><span class=cl>findutils
</span></span><span class=line><span class=cl>gawk
</span></span><span class=line><span class=cl>gcc-libs
</span></span><span class=line><span class=cl>gdbm
</span></span><span class=line><span class=cl>gettext
</span></span><span class=line><span class=cl>glib2
</span></span><span class=line><span class=cl>glibc
</span></span><span class=line><span class=cl>gmp
</span></span><span class=line><span class=cl>gnulib-l10n
</span></span><span class=line><span class=cl>gnupg
</span></span><span class=line><span class=cl>gnutls
</span></span><span class=line><span class=cl>gpgme
</span></span><span class=line><span class=cl>grep
</span></span><span class=line><span class=cl>gzip
</span></span><span class=line><span class=cl>hwdata
</span></span><span class=line><span class=cl>iana-etc
</span></span><span class=line><span class=cl>icu
</span></span><span class=line><span class=cl>iproute2
</span></span><span class=line><span class=cl>iptables
</span></span><span class=line><span class=cl>iputils
</span></span><span class=line><span class=cl>json-c
</span></span><span class=line><span class=cl>kbd
</span></span><span class=line><span class=cl>keyutils
</span></span><span class=line><span class=cl>kmod
</span></span><span class=line><span class=cl>krb5
</span></span><span class=line><span class=cl>leancrypto
</span></span><span class=line><span class=cl>libarchive
</span></span><span class=line><span class=cl>libassuan
</span></span><span class=line><span class=cl>libbpf
</span></span><span class=line><span class=cl>libcap
</span></span><span class=line><span class=cl>libcap-ng
</span></span><span class=line><span class=cl>libelf
</span></span><span class=line><span class=cl>libevent
</span></span><span class=line><span class=cl>libffi
</span></span><span class=line><span class=cl>libgcrypt
</span></span><span class=line><span class=cl>libgpg-error
</span></span><span class=line><span class=cl>libidn2
</span></span><span class=line><span class=cl>libksba
</span></span><span class=line><span class=cl>libldap
</span></span><span class=line><span class=cl>libmnl
</span></span><span class=line><span class=cl>libnetfilter_conntrack
</span></span><span class=line><span class=cl>libnfnetlink
</span></span><span class=line><span class=cl>libnftnl
</span></span><span class=line><span class=cl>libnghttp2
</span></span><span class=line><span class=cl>libnghttp3
</span></span><span class=line><span class=cl>libnl
</span></span><span class=line><span class=cl>libnsl
</span></span><span class=line><span class=cl>libp11-kit
</span></span><span class=line><span class=cl>libpcap
</span></span><span class=line><span class=cl>libpsl
</span></span><span class=line><span class=cl>libsasl
</span></span><span class=line><span class=cl>libseccomp
</span></span><span class=line><span class=cl>libsecret
</span></span><span class=line><span class=cl>libssh2
</span></span><span class=line><span class=cl>libsysprof-capture
</span></span><span class=line><span class=cl>libtasn1
</span></span><span class=line><span class=cl>libtirpc
</span></span><span class=line><span class=cl>libunistring
</span></span><span class=line><span class=cl>libusb
</span></span><span class=line><span class=cl>libverto
</span></span><span class=line><span class=cl>libxcrypt
</span></span><span class=line><span class=cl>libxml2
</span></span><span class=line><span class=cl>licenses
</span></span><span class=line><span class=cl>linux-api-headers
</span></span><span class=line><span class=cl>lmdb
</span></span><span class=line><span class=cl>lz4
</span></span><span class=line><span class=cl>mpfr
</span></span><span class=line><span class=cl>ncurses
</span></span><span class=line><span class=cl>nettle
</span></span><span class=line><span class=cl>npth
</span></span><span class=line><span class=cl>openssl
</span></span><span class=line><span class=cl>p11-kit
</span></span><span class=line><span class=cl>pacman
</span></span><span class=line><span class=cl>pacman-mirrorlist
</span></span><span class=line><span class=cl>pam
</span></span><span class=line><span class=cl>pambase
</span></span><span class=line><span class=cl>pciutils
</span></span><span class=line><span class=cl>pcre2
</span></span><span class=line><span class=cl>pinentry
</span></span><span class=line><span class=cl>popt
</span></span><span class=line><span class=cl>procps-ng
</span></span><span class=line><span class=cl>psmisc
</span></span><span class=line><span class=cl>readline
</span></span><span class=line><span class=cl>sed
</span></span><span class=line><span class=cl>shadow
</span></span><span class=line><span class=cl>sqlite
</span></span><span class=line><span class=cl>systemd
</span></span><span class=line><span class=cl>systemd-libs
</span></span><span class=line><span class=cl>systemd-sysvcompat
</span></span><span class=line><span class=cl>tar
</span></span><span class=line><span class=cl>tpm2-tss
</span></span><span class=line><span class=cl>tzdata
</span></span><span class=line><span class=cl>util-linux
</span></span><span class=line><span class=cl>util-linux-libs
</span></span><span class=line><span class=cl>xz
</span></span><span class=line><span class=cl>zlib
</span></span><span class=line><span class=cl>zstd</span></span></code></pre></div><p>那么问题来了，<code>pacman</code>是什么，选项<code>-Qq</code>又是什么？通过查阅 <a href=https://wiki.archlinuxcn.org/wiki/Pacman target=_blank rel="noopener noreferrer">pacman - Arch Linux 中文维基</a>，我们可以知道<code>pacman</code>是一款Arch下的包管理器，其作用相当于Ubuntu中的<code>apt</code>。而<code>-Q</code>选项查询本地软件包数据库。那么<code>-q</code>是做什么的呢？通过<a href=https://pacman.archlinux.page/pacman.8.html target=_blank rel="noopener noreferrer">pacman(8)</a> 手册，我们查到如下内容：</p><blockquote><p><strong>-q, &ndash;quiet</strong></p><p>Show less information for certain query operations. This is useful when pacman&rsquo;s output is processed in a script. Search will only show package names and not version, group, and description information; owns will only show package names instead of &ldquo;file is owned by pkg&rdquo; messages; group will only show package names and omit group names; list will only show files and omit package names; check will only show pairs of package names and missing files; a bare query will only show package names rather than names and versions.</p></blockquote><p>简单来说也就是把查询的输出简化一下打印出来。</p><p>但是这样的话， 我们并不清楚这些包到底是做什么用的。经过Web检索<a href="https://www.google.com/search?q=what+pacman+option+explain+the+package+info&amp;oq=what+pacman+option+explain+the+package+info&amp;gs_lcrp=EgRlZGdlKgYIABBFGDkyBggAEEUYOTIKCAEQABiABBiiBDIKCAIQABiABBiiBDIKCAMQABiABBiiBDIHCAQQABjvBTIHCAUQABjvBdIBCTE1NTE1ajBqMagCALACAA&amp;sourceid=chrome&amp;ie=UTF-8" target=_blank rel="noopener noreferrer">what pacman option explain the package info - Google 搜索</a>，我们了解到选项<code>-i</code>可以把各个包的详细信息打印出来。其中：</p><ul><li><code>pacman -Si [package name]</code> 会详细显示还未安装的包的信息；</li><li><code>pacman -Qi [package name]</code> 会详细显示安装过的包的信息；</li></ul><p>因为我们这里是看的安装过的包，因此我们使用<code>pacman -Qi</code>命令看一下：</p><p>其中打印出来的每一项都非常的长，各个包的信息格式如下：</p><div class="code-block highlight is-closed show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-4 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl>Name            : acl
</span></span><span class=line><span class=cl>Version         : 2.3.2-1
</span></span><span class=line><span class=cl>Description     : Access control list utilities, libraries and headers
</span></span><span class=line><span class=cl>Architecture    : x86_64
</span></span><span class=line><span class=cl>URL             : https://savannah.nongnu.org/projects/acl
</span></span><span class=line><span class=cl>Licenses        : LGPL
</span></span><span class=line><span class=cl>Groups          : None
</span></span><span class=line><span class=cl>Provides        : xfsacl  libacl.so<span class=o>=</span>1-64
</span></span><span class=line><span class=cl>Depends On      : glibc
</span></span><span class=line><span class=cl>Optional Deps   : None
</span></span><span class=line><span class=cl>Required By     : coreutils  gettext  libarchive  sed  shadow  systemd  tar
</span></span><span class=line><span class=cl>Optional For    : None
</span></span><span class=line><span class=cl>Conflicts With  : xfsacl
</span></span><span class=line><span class=cl>Replaces        : xfsacl
</span></span><span class=line><span class=cl>Installed Size  : 329.98 KiB
</span></span><span class=line><span class=cl>Packager        : Christian Hesse &lt;eworm@archlinux.org&gt;
</span></span><span class=line><span class=cl>Build Date      : Wed Jan <span class=m>24</span> 16:57:20 <span class=m>2024</span>
</span></span><span class=line><span class=cl>Install Date    : Thu May <span class=m>1</span> 18:04:07 <span class=m>2025</span>
</span></span><span class=line><span class=cl>Install Reason  : Installed as a dependency <span class=k>for</span> another package
</span></span><span class=line><span class=cl>Install Script  : No
</span></span><span class=line><span class=cl>Validated By    : Signature</span></span></code></pre></div><p>如果我们只想要<code>Name</code>和<code>Description</code>这两项，我们该怎么做呢？有没有命令可以实现？</p><p>通过查看手册，我们发现有个叫<code>--print-format</code>的选项好像可以实现，但是仔细一看，它是这样写的：</p><blockquote><p>Specify a printf-like format to control the output of the <em>&ndash;print</em> operation.</p></blockquote><p>那么<code>--print</code>选项又是什么呢？它是这样的：</p><blockquote><p>Only print the targets instead of performing the actual operation (sync, remove or upgrade)</p></blockquote><p>这是什么意思呢，我又查了一下：<a href="https://www.google.com/search?q=what+is+pacman+--print+option&amp;sca_esv=495b9ab80c09e44b&amp;sxsrf=AHTn8zoJ9eaQJ9q-N8Ha6WQNrgh_uFiwBw%3A1747996324310&amp;ei=pE4waPHWEq_g1e8Ps4nS6Ag&amp;ved=0ahUKEwjxuOrfsbmNAxUvcPUHHbOEFI0Q4dUDCBA&amp;uact=5&amp;oq=what+is+pacman+--print+option&amp;gs_lp=Egxnd3Mtd2l6LXNlcnAiHXdoYXQgaXMgcGFjbWFuIC0tcHJpbnQgb3B0aW9uSOgRUO8EWOoPcAZ4AZABAJgBXqABgwaqAQIxMLgBA8gBAPgBAZgCAqACB8ICChAAGLADGNYEGEeYAwCIBgGQBgqSBwEyoAf-A7IHALgHAMIHBTAuMS4xyAcF&amp;sclient=gws-wiz-serp" target=_blank rel="noopener noreferrer">what is pacman &ndash;print option - Google 搜索</a>，<code>print</code>命令也就是在运行<code>pacman</code>命令的时候，只输出所有会执行的操作（包括升级/删除等），而不实际执行他们。这能让你看看执行过程中会发生什么事情。这个选项我们记住了，但是他并不能满足我们的要求。</p><p>那么剩下的只有一条路了，使用<code>grep</code>命令把所有的<code>Description</code>和<code>Name</code>行提取出来，并且把它们之间用换行符分割。<code>grep</code>命令怎么提取呢？因为<code>-E</code>是将PATTERNS作为正则解释，<code>^</code>代表行开始，<code>$</code>代表行末尾。那么那么我们可以使用<code>Name|Descrption|^$</code>来匹配带有Name的行、带有Description的行、和空行。输出如下：</p><div class="code-block highlight is-closed show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">txt</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-5 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl>warning: database file for &#39;core&#39; does not exist (use &#39;-Sy&#39; to download)
</span></span><span class=line><span class=cl>warning: database file for &#39;extra&#39; does not exist (use &#39;-Sy&#39; to download)
</span></span><span class=line><span class=cl>Name            : acl
</span></span><span class=line><span class=cl>Description     : Access control list utilities, libraries and headers
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : archlinux-keyring
</span></span><span class=line><span class=cl>Description     : Arch Linux PGP keyring
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : attr
</span></span><span class=line><span class=cl>Description     : Extended attribute support library for ACL support
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : audit
</span></span><span class=line><span class=cl>Description     : Userspace components of the audit framework
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : base
</span></span><span class=line><span class=cl>Description     : Minimal package set to define a basic Arch Linux installation
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : bash
</span></span><span class=line><span class=cl>Description     : The GNU Bourne Again shell
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : brotli
</span></span><span class=line><span class=cl>Description     : Generic-purpose lossless compression algorithm
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : bzip2
</span></span><span class=line><span class=cl>Description     : A high-quality data compression program
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : ca-certificates
</span></span><span class=line><span class=cl>Description     : Common CA certificates - default providers
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : ca-certificates-mozilla
</span></span><span class=line><span class=cl>Description     : Mozilla&#39;s set of trusted CA certificates
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : ca-certificates-utils
</span></span><span class=line><span class=cl>Description     : Common CA certificates (utilities)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : coreutils
</span></span><span class=line><span class=cl>Description     : The basic file, shell and text manipulation utilities of the GNU operating system
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : cryptsetup
</span></span><span class=line><span class=cl>Description     : Userspace setup tool for transparent encryption of block devices using dm-crypt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : curl
</span></span><span class=line><span class=cl>Description     : command line tool and library for transferring data with URLs
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : dbus
</span></span><span class=line><span class=cl>Description     : Freedesktop.org message bus system
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : dbus-broker
</span></span><span class=line><span class=cl>Description     : Linux D-Bus Message Broker
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : dbus-broker-units
</span></span><span class=line><span class=cl>Description     : Linux D-Bus Message Broker - Service units
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : dbus-units
</span></span><span class=line><span class=cl>Description     : D-Bus service units (default provider)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : device-mapper
</span></span><span class=line><span class=cl>Description     : Device mapper userspace library and tools
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : e2fsprogs
</span></span><span class=line><span class=cl>Description     : Ext2/3/4 filesystem utilities
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : expat
</span></span><span class=line><span class=cl>Description     : An XML parser library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : file
</span></span><span class=line><span class=cl>Description     : File type identification utility
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : filesystem
</span></span><span class=line><span class=cl>Description     : Base Arch Linux files
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : findutils
</span></span><span class=line><span class=cl>Description     : GNU utilities to locate files
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : gawk
</span></span><span class=line><span class=cl>Description     : GNU version of awk
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : gcc-libs
</span></span><span class=line><span class=cl>Description     : Runtime libraries shipped by GCC
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : gdbm
</span></span><span class=line><span class=cl>Description     : GNU database library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : gettext
</span></span><span class=line><span class=cl>Description     : GNU internationalization library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : glib2
</span></span><span class=line><span class=cl>Description     : Low level core library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : glibc
</span></span><span class=line><span class=cl>Description     : GNU C Library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : gmp
</span></span><span class=line><span class=cl>Description     : A free library for arbitrary precision arithmetic
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : gnulib-l10n
</span></span><span class=line><span class=cl>Description     : The Gnulib localizations
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : gnupg
</span></span><span class=line><span class=cl>Description     : Complete and free implementation of the OpenPGP standard
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : gnutls
</span></span><span class=line><span class=cl>Description     : A library which provides a secure layer over a reliable transport layer
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : gpgme
</span></span><span class=line><span class=cl>Description     : A C wrapper library for GnuPG
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : grep
</span></span><span class=line><span class=cl>Description     : A string search utility
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : gzip
</span></span><span class=line><span class=cl>Description     : GNU compression utility
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : hwdata
</span></span><span class=line><span class=cl>Description     : hardware identification databases
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : iana-etc
</span></span><span class=line><span class=cl>Description     : /etc/protocols and /etc/services provided by IANA
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : icu
</span></span><span class=line><span class=cl>Description     : International Components for Unicode library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : iproute2
</span></span><span class=line><span class=cl>Description     : IP Routing Utilities
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : iptables
</span></span><span class=line><span class=cl>Description     : Linux kernel packet control tool (using legacy interface)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : iputils
</span></span><span class=line><span class=cl>Description     : Network monitoring tools, including ping
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : json-c
</span></span><span class=line><span class=cl>Description     : JSON implementation in C
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : kbd
</span></span><span class=line><span class=cl>Description     : Keytable files and keyboard utilities
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : keyutils
</span></span><span class=line><span class=cl>Description     : Linux Key Management Utilities
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : kmod
</span></span><span class=line><span class=cl>Description     : Linux kernel module management tools and library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : krb5
</span></span><span class=line><span class=cl>Description     : The Kerberos network authentication system
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : leancrypto
</span></span><span class=line><span class=cl>Description     : Lean cryptographic library usable for bare-metal environments
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libarchive
</span></span><span class=line><span class=cl>Description     : Multi-format archive and compression library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libassuan
</span></span><span class=line><span class=cl>Description     : IPC library used by some GnuPG related software
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libbpf
</span></span><span class=line><span class=cl>Description     : Library for loading eBPF programs and reading and manipulating eBPF objects from user-space
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libcap
</span></span><span class=line><span class=cl>Description     : POSIX 1003.1e capabilities
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libcap-ng
</span></span><span class=line><span class=cl>Description     : A library for Linux that makes using posix capabilities easy
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libelf
</span></span><span class=line><span class=cl>Description     : Handle ELF object files and DWARF debugging information (libraries)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libevent
</span></span><span class=line><span class=cl>Description     : Event notification library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libffi
</span></span><span class=line><span class=cl>Description     : Portable foreign function interface library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libgcrypt
</span></span><span class=line><span class=cl>Description     : General purpose cryptographic library based on the code from GnuPG
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libgpg-error
</span></span><span class=line><span class=cl>Description     : Support library for libgcrypt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libidn2
</span></span><span class=line><span class=cl>Description     : Free software implementation of IDNA2008, Punycode and TR46
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libksba
</span></span><span class=line><span class=cl>Description     : Library for working with X certificates, CMS data and related objects
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libldap
</span></span><span class=line><span class=cl>Description     : Lightweight Directory Access Protocol (LDAP) client libraries
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libmnl
</span></span><span class=line><span class=cl>Description     : Minimalistic user-space library oriented to Netlink developers.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libnetfilter_conntrack
</span></span><span class=line><span class=cl>Description     : Library providing an API to the in-kernel connection tracking state table
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libnfnetlink
</span></span><span class=line><span class=cl>Description     : Low-level library for netfilter related kernel/userspace communication
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libnftnl
</span></span><span class=line><span class=cl>Description     : Netfilter library providing interface to the nf_tables subsystem
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libnghttp2
</span></span><span class=line><span class=cl>Description     : Framing layer of HTTP/2 is implemented as a reusable C library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libnghttp3
</span></span><span class=line><span class=cl>Description     : HTTP/3 library written in C
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libnl
</span></span><span class=line><span class=cl>Description     : Library for applications dealing with netlink sockets
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libnsl
</span></span><span class=line><span class=cl>Description     : Public client interface library for NIS(YP)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libp11-kit
</span></span><span class=line><span class=cl>Description     : Loads and enumerates PKCS#11 modules (library)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libpcap
</span></span><span class=line><span class=cl>Description     : A system-independent interface for user-level packet capture
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libpsl
</span></span><span class=line><span class=cl>Description     : Public Suffix List library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libsasl
</span></span><span class=line><span class=cl>Description     : Cyrus Simple Authentication Service Layer (SASL) library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libseccomp
</span></span><span class=line><span class=cl>Description     : Enhanced seccomp library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libsecret
</span></span><span class=line><span class=cl>Description     : Library for storing and retrieving passwords and other secrets
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libssh2
</span></span><span class=line><span class=cl>Description     : A library implementing the SSH2 protocol as defined by Internet Drafts
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libsysprof-capture
</span></span><span class=line><span class=cl>Description     : Kernel based performance profiler - capture library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libtasn1
</span></span><span class=line><span class=cl>Description     : The ASN library used in GNUTLS
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libtirpc
</span></span><span class=line><span class=cl>Description     : Transport Independent RPC library (SunRPC replacement)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libunistring
</span></span><span class=line><span class=cl>Description     : Library for manipulating Unicode strings and C strings
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libusb
</span></span><span class=line><span class=cl>Description     : Library that provides generic access to USB devices
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libverto
</span></span><span class=line><span class=cl>Description     : Main event loop abstraction library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libxcrypt
</span></span><span class=line><span class=cl>Description     : Modern library for one-way hashing of passwords
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : libxml2
</span></span><span class=line><span class=cl>Description     : XML C parser and toolkit
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : licenses
</span></span><span class=line><span class=cl>Description     : A set of common license files
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : linux-api-headers
</span></span><span class=line><span class=cl>Description     : Kernel headers sanitized for use in userspace
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : lmdb
</span></span><span class=line><span class=cl>Description     : Symas Lightning Memory-Mapped Database
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : lz4
</span></span><span class=line><span class=cl>Description     : Extremely fast compression algorithm
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : mpfr
</span></span><span class=line><span class=cl>Description     : Multiple-precision floating-point library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : ncurses
</span></span><span class=line><span class=cl>Description     : System V Release 4.0 curses emulation library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : nettle
</span></span><span class=line><span class=cl>Description     : A low-level cryptographic library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : npth
</span></span><span class=line><span class=cl>Description     : The new GNU portable threads library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : openssl
</span></span><span class=line><span class=cl>Description     : The Open Source toolkit for Secure Sockets Layer and Transport Layer Security
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : p11-kit
</span></span><span class=line><span class=cl>Description     : Loads and enumerates PKCS#11 modules
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : pacman
</span></span><span class=line><span class=cl>Description     : A library-based package manager with dependency support
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : pacman-mirrorlist
</span></span><span class=line><span class=cl>Description     : Arch Linux mirror list for use by pacman
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : pam
</span></span><span class=line><span class=cl>Description     : PAM (Pluggable Authentication Modules) library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : pambase
</span></span><span class=line><span class=cl>Description     : Base PAM configuration for services
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : pciutils
</span></span><span class=line><span class=cl>Description     : PCI bus configuration space access library and tools
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : pcre2
</span></span><span class=line><span class=cl>Description     : A library that implements Perl 5-style regular expressions. 2nd version
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : pinentry
</span></span><span class=line><span class=cl>Description     : Collection of simple PIN or passphrase entry dialogs which utilize the Assuan protocol
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : popt
</span></span><span class=line><span class=cl>Description     : A commandline option parser
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : procps-ng
</span></span><span class=line><span class=cl>Description     : Utilities for monitoring your system and its processes
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : psmisc
</span></span><span class=line><span class=cl>Description     : Miscellaneous procfs tools
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : readline
</span></span><span class=line><span class=cl>Description     : GNU readline library
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : sed
</span></span><span class=line><span class=cl>Description     : GNU stream editor
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : shadow
</span></span><span class=line><span class=cl>Description     : Password and account management tool suite with support for shadow files and PAM
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : sqlite
</span></span><span class=line><span class=cl>Description     : A C library that implements an SQL database engine
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : systemd
</span></span><span class=line><span class=cl>Description     : system and service manager
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : systemd-libs
</span></span><span class=line><span class=cl>Description     : systemd client libraries
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : systemd-sysvcompat
</span></span><span class=line><span class=cl>Description     : sysvinit compat for systemd
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : tar
</span></span><span class=line><span class=cl>Description     : Utility used to store, backup, and transport files
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : tpm2-tss
</span></span><span class=line><span class=cl>Description     : Implementation of the TCG Trusted Platform Module 2.0 Software Stack (TSS2)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : tzdata
</span></span><span class=line><span class=cl>Description     : Sources for time zone and daylight saving time data
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : util-linux
</span></span><span class=line><span class=cl>Description     : Miscellaneous system utilities for Linux
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : util-linux-libs
</span></span><span class=line><span class=cl>Description     : util-linux runtime libraries
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : xz
</span></span><span class=line><span class=cl>Description     : Library and command line tools for XZ and LZMA compressed files
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : zlib
</span></span><span class=line><span class=cl>Description     : Compression library implementing the deflate compression method found in gzip and PKZIP
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Name            : zstd
</span></span><span class=line><span class=cl>Description     : Zstandard - Fast real-time compression algorithm</span></span></code></pre></div><p>看完了我们发现，除了一些基础工具（包括sqlite），archlinux确实是啥啥没有。</p><h2 id=默认终端美化 class=headerLink><a href=#%e9%bb%98%e8%ae%a4%e7%bb%88%e7%ab%af%e7%be%8e%e5%8c%96 class=header-mark></a>3 默认终端美化</h2><div class="details admonition warning open"><div class="details-summary admonition-title"><span class=icon><svg class="icon" viewBox="0 0 576 512"><path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937.0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154.0l239.94 416.028zM288 354c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></svg></span>Warning<span class=details-icon><svg class="icon" viewBox="0 0 256 512"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9.0l-22.6-22.6c-9.4-9.4-9.4-24.6.0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6.0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9.0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg></span></div><div class=details-content><div class=admonition-content><p>本节内容由deepseek生成，这个操作实际上没有美化linux终端，是把windows终端美化了，windows终端安装见此：<a href=https://learn.microsoft.com/zh-cn/windows/terminal/install target=_blank rel="noopener noreferrer">Windows 终端安装 | Microsoft Learn</a>。</p></div></div></div><p>在 Windows 终端（Windows Terminal）中修改配置是通过编辑其 JSON 配置文件实现的。以下是详细的操作步骤：</p><h3 id=1-打开-windows-终端的设置文件 class=headerLink><a href=#1-%e6%89%93%e5%bc%80-windows-%e7%bb%88%e7%ab%af%e7%9a%84%e8%ae%be%e7%bd%ae%e6%96%87%e4%bb%b6 class=header-mark></a>3.1 1. 打开 Windows 终端的设置文件</h3><h4 id=方法-1通过界面快捷打开 class=headerLink><a href=#%e6%96%b9%e6%b3%95-1%e9%80%9a%e8%bf%87%e7%95%8c%e9%9d%a2%e5%bf%ab%e6%8d%b7%e6%89%93%e5%bc%80 class=header-mark></a>3.1.1 方法 1：通过界面快捷打开</h4><ol><li>打开 <strong>Windows 终端</strong>（Windows Terminal）。</li><li>点击窗口右上角的 <strong>下拉箭头 ▼</strong>，选择 <strong>设置</strong>（或按快捷键 <code>Ctrl + ,</code>）。</li><li>在设置界面底部，找到 <strong>&ldquo;打开 JSON 文件&rdquo;</strong> 按钮并点击，会自动用默认文本编辑器（如 VS Code 或记事本）打开配置文件。</li></ol><h4 id=方法-2直接定位文件路径 class=headerLink><a href=#%e6%96%b9%e6%b3%95-2%e7%9b%b4%e6%8e%a5%e5%ae%9a%e4%bd%8d%e6%96%87%e4%bb%b6%e8%b7%af%e5%be%84 class=header-mark></a>3.1.2 <strong>方法 2：直接定位文件路径</strong></h4><p>配置文件默认路径为：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">text</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-6 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl>C:\Users\&lt;你的用户名&gt;\AppData\Local\Packages\Microsoft.WindowsTerminal_&lt;随机字符串&gt;\LocalState\settings.json</span></span></code></pre></div><ul><li>按 <code>Win + R</code> 输入 <code>%LOCALAPPDATA%\Packages\Microsoft.WindowsTerminal_*\LocalState\</code> 可快速跳转到目录。</li><li>找到 <code>settings.json</code> 并用文本编辑器打开。</li></ul><h3 id=2-修改配置文件以-arch-linux-wsl2-为例 class=headerLink><a href=#2-%e4%bf%ae%e6%94%b9%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6%e4%bb%a5-arch-linux-wsl2-%e4%b8%ba%e4%be%8b class=header-mark></a>3.2 2. 修改配置文件（以 Arch Linux WSL2 为例）</h3><p>在 <code>settings.json</code> 的 <code>profiles.list</code> 字段中找到 Arch Linux 的配置段（通过 <code>"name": "Arch Linux"</code> 或 <code>"commandline": "wsl -d ArchLinux"</code> 识别），然后添加或修改以下参数：</p><h4 id=示例配置 class=headerLink><a href=#%e7%a4%ba%e4%be%8b%e9%85%8d%e7%bd%ae class=header-mark></a>3.2.1 示例配置</h4><div class="code-block highlight is-closed show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">json</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-7 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Arch Linux&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;commandline&#34;</span><span class=p>:</span> <span class=s2>&#34;wsl -d ArchLinux&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;hidden&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;colorScheme&#34;</span><span class=p>:</span> <span class=s2>&#34;One Half Dark&#34;</span><span class=p>,</span>  <span class=c1>// 深色主题
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;fontFace&#34;</span><span class=p>:</span> <span class=s2>&#34;Cascadia Code PL&#34;</span><span class=p>,</span>  <span class=c1>// 推荐等宽字体
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;fontSize&#34;</span><span class=p>:</span> <span class=mi>11</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;background&#34;</span><span class=p>:</span> <span class=s2>&#34;#282C34&#34;</span><span class=p>,</span>         <span class=c1>// 自定义背景色（可选）
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;cursorColor&#34;</span><span class=p>:</span> <span class=s2>&#34;#FFFFFF&#34;</span><span class=p>,</span>       <span class=c1>// 光标颜色
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;acrylicOpacity&#34;</span><span class=p>:</span> <span class=mf>0.8</span><span class=p>,</span>          <span class=c1>// 透明度（0-1）
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;useAcrylic&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>             <span class=c1>// 启用亚克力效果
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;padding&#34;</span><span class=p>:</span> <span class=s2>&#34;8, 8, 8, 8&#34;</span>        <span class=c1>// 内边距（可选）
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span></span></span></code></pre></div><h4 id=关键参数说明 class=headerLink><a href=#%e5%85%b3%e9%94%ae%e5%8f%82%e6%95%b0%e8%af%b4%e6%98%8e class=header-mark></a>3.2.2 关键参数说明</h4><div class=table-wrapper><table><thead><tr><th style=text-align:>参数</th><th style=text-align:>作用</th><th style=text-align:>推荐值</th></tr></thead><tbody><tr><td style=text-align:><code>colorScheme</code></td><td style=text-align:>内置颜色主题</td><td style=text-align:><code>"One Half Dark"</code>、<code>"Dracula"</code>、<code>"Solarized Dark"</code></td></tr><tr><td style=text-align:><code>fontFace</code></td><td style=text-align:>字体</td><td style=text-align:><code>"Cascadia Code PL"</code>（微软官方字体）或 <code>"JetBrains Mono"</code></td></tr><tr><td style=text-align:><code>fontSize</code></td><td style=text-align:>字号</td><td style=text-align:><code>11</code> 或 <code>12</code></td></tr><tr><td style=text-align:><code>background</code></td><td style=text-align:>自定义背景色</td><td style=text-align:>十六进制颜色（如 <code>"#282C34"</code>）</td></tr><tr><td style=text-align:><code>acrylicOpacity</code></td><td style=text-align:>透明度</td><td style=text-align:><code>0.8</code>（需启用 <code>useAcrylic</code>）</td></tr><tr><td style=text-align:><code>useAcrylic</code></td><td style=text-align:>亚克力毛玻璃效果</td><td style=text-align:><code>true</code> 或 <code>false</code></td></tr></tbody></table></div><h3 id=3-保存并生效 class=headerLink><a href=#3-%e4%bf%9d%e5%ad%98%e5%b9%b6%e7%94%9f%e6%95%88 class=header-mark></a>3.3 3. 保存并生效</h3><ol><li>保存 <code>settings.json</code> 文件。</li><li><strong>重启 Windows 终端</strong>，Arch Linux 的标签页会自动应用新配置。</li></ol><h3 id=4-推荐的内置颜色主题 class=headerLink><a href=#4-%e6%8e%a8%e8%8d%90%e7%9a%84%e5%86%85%e7%bd%ae%e9%a2%9c%e8%89%b2%e4%b8%bb%e9%a2%98 class=header-mark></a>3.4 4. 推荐的内置颜色主题</h3><p>Windows 终端内置了多种主题，直接通过 <code>colorScheme</code> 指定即可：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">json</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-8 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=s2>&#34;colorScheme&#34;</span><span class=err>:</span> <span class=s2>&#34;Dracula&#34;</span></span></span></code></pre></div><h4 id=常用主题列表 class=headerLink><a href=#%e5%b8%b8%e7%94%a8%e4%b8%bb%e9%a2%98%e5%88%97%e8%a1%a8 class=header-mark></a>3.4.1 <strong>常用主题列表</strong></h4><ul><li><code>"One Half Dark"</code>（经典深色）</li><li><code>"Dracula"</code>（紫色调）</li><li><code>"Solarized Dark"</code>（柔和低对比）</li><li><code>"Campbell"</code>（默认主题）</li><li><code>"Vintage"</code>（复古绿屏）</li></ul><h3 id=5-安装新字体可选 class=headerLink><a href=#5-%e5%ae%89%e8%a3%85%e6%96%b0%e5%ad%97%e4%bd%93%e5%8f%af%e9%80%89 class=header-mark></a>3.5 5. 安装新字体（可选）</h3><p>如果喜欢更美观的等宽字体（如 <code>Cascadia Code</code> 或 <code>JetBrains Mono</code>）：</p><ol><li><p>下载字体：</p><ul><li><a href=https://github.com/microsoft/cascadia-code/releases target=_blank rel="noopener noreferrer">Cascadia Code</a>（微软官方）</li><li><a href=https://www.jetbrains.com/lp/mono/ target=_blank rel="noopener noreferrer">JetBrains Mono</a>（开发者常用）</li></ul></li><li><p>安装字体：双击 <code>.ttf</code> 文件，点击"安装"。</p></li><li><p>在 <code>settings.json</code> 中指定字体名：</p></li></ol><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">json</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-9 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=s2>&#34;fontFace&#34;</span><span class=err>:</span> <span class=s2>&#34;JetBrains Mono&#34;</span></span></span></code></pre></div><h3 id=6-验证效果 class=headerLink><a href=#6-%e9%aa%8c%e8%af%81%e6%95%88%e6%9e%9c class=header-mark></a>3.6 6. 验证效果</h3><ul><li>打开 Arch Linux 标签页，观察提示符、<code>ls</code> 命令输出颜色和背景是否变化。</li><li>运行 <code>neofetch</code> 查看系统信息（如果已安装）。</li></ul><h3 id=常见问题 class=headerLink><a href=#%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98 class=header-mark></a>3.7 常见问题</h3><h4 id=q1修改后终端未生效 class=headerLink><a href=#q1%e4%bf%ae%e6%94%b9%e5%90%8e%e7%bb%88%e7%ab%af%e6%9c%aa%e7%94%9f%e6%95%88 class=header-mark></a>3.7.1 Q1：修改后终端未生效？</h4><ul><li>检查 JSON 语法是否正确（可用 <a href=https://jsonlint.com/ target=_blank rel="noopener noreferrer">JSON 校验工具</a>）。</li><li>确保 <code>"name"</code> 或 <code>"commandline"</code> 匹配你的 Arch Linux 配置。</li></ul><h4 id=q2想恢复默认配置 class=headerLink><a href=#q2%e6%83%b3%e6%81%a2%e5%a4%8d%e9%bb%98%e8%ae%a4%e9%85%8d%e7%bd%ae class=header-mark></a>3.7.2 Q2：想恢复默认配置？</h4><ul><li>删除自定义字段或重装 Windows 终端。</li></ul><p>通过以上步骤，你可以直接在 Windows 终端中为 WSL2 的 Arch Linux 配置美观的深色主题和字体，无需额外安装终端模拟器！</p><h2 id=vim安装 class=headerLink><a href=#vim%e5%ae%89%e8%a3%85 class=header-mark></a>4 Vim安装</h2><p>运行<code>pacman -S vim</code>搜索<code>vim</code>，但是报了如下错误：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-10 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=o>[</span>root@DESKTOP-ROOSFVQ ~<span class=o>]</span><span class=c1># pacman -S vim</span>
</span></span><span class=line><span class=cl>warning: database file <span class=k>for</span> <span class=s1>&#39;core&#39;</span> does not exist <span class=o>(</span>use <span class=s1>&#39;-Sy&#39;</span> to download<span class=o>)</span>
</span></span><span class=line><span class=cl>warning: database file <span class=k>for</span> <span class=s1>&#39;extra&#39;</span> does not exist <span class=o>(</span>use <span class=s1>&#39;-Sy&#39;</span> to download<span class=o>)</span>
</span></span><span class=line><span class=cl>error: target not found: vim</span></span></code></pre></div><p>经过搜索：<a href=https://unix.stackexchange.com/questions/408920/pacman-complains-database-core-does-not-exist target=_blank rel="noopener noreferrer">Pacman complains &ldquo;database &lsquo;core&rsquo; does not exist&rdquo; - Unix & Linux Stack Exchange</a>，答案要我们输入如下命令：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-11 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl>pacman -Syu
</span></span><span class=line><span class=cl>pacman -S <span class=o>[</span>package-name<span class=o>]</span></span></span></code></pre></div><p>命令运行效果如下：</p><div class="code-block highlight is-closed show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-12 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=o>[</span>root@DESKTOP-ROOSFVQ ~<span class=o>]</span><span class=c1># pacman -Syu</span>
</span></span><span class=line><span class=cl>:: Synchronizing package databases...
</span></span><span class=line><span class=cl> core downloading...
</span></span><span class=line><span class=cl> extra downloading...
</span></span><span class=line><span class=cl>:: Starting full system upgrade...
</span></span><span class=line><span class=cl>resolving dependencies...
</span></span><span class=line><span class=cl>looking <span class=k>for</span> conflicting packages...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Package <span class=o>(</span>21<span class=o>)</span>                  Old Version   New Version   Net Change  Download Size
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>core/bash                     5.2.037-2     5.2.037-5      -0.02 MiB
</span></span><span class=line><span class=cl>core/ca-certificates-mozilla  3.110-1       3.111-1         0.00 MiB       0.38 MiB
</span></span><span class=line><span class=cl>core/device-mapper            2.03.31-1     2.03.32-1       0.01 MiB       0.27 MiB
</span></span><span class=line><span class=cl>core/filesystem               2024.11.21-1  2025.05.03-1    0.00 MiB       0.01 MiB
</span></span><span class=line><span class=cl>core/gettext                  0.24-3        0.25-1          6.87 MiB
</span></span><span class=line><span class=cl>core/glib2                    2.84.1-1      2.84.2-1        0.01 MiB
</span></span><span class=line><span class=cl>core/gnupg                    2.4.7-1       2.4.7-2         0.00 MiB
</span></span><span class=line><span class=cl>core/gpgme                    1.24.2-1      1.24.3-2        0.00 MiB       0.45 MiB
</span></span><span class=line><span class=cl>core/hwdata                   0.394-1       0.395-1         0.03 MiB       1.63 MiB
</span></span><span class=line><span class=cl>core/iana-etc                 20250328-1    20250502-1      0.00 MiB       0.39 MiB
</span></span><span class=line><span class=cl>core/json-c                   0.18-1        0.18-2          0.00 MiB       0.06 MiB
</span></span><span class=line><span class=cl>core/libarchive               3.7.9-2       3.8.0-1         0.02 MiB       0.55 MiB
</span></span><span class=line><span class=cl>core/libgcrypt                1.11.0-3      1.11.1-1        0.03 MiB       0.70 MiB
</span></span><span class=line><span class=cl>core/libtirpc                 1.3.6-1       1.3.6-2         0.00 MiB       0.17 MiB
</span></span><span class=line><span class=cl>core/libxml2                  2.14.2-2      2.14.3-1        0.00 MiB       0.78 MiB
</span></span><span class=line><span class=cl>core/ncurses                  6.5-3         6.5-4           0.00 MiB       1.13 MiB
</span></span><span class=line><span class=cl>core/pacman-mirrorlist        20250311-1    20250522-1     -0.01 MiB       0.01 MiB
</span></span><span class=line><span class=cl>core/sqlite                   3.49.1-1      3.49.2-1       -0.02 MiB
</span></span><span class=line><span class=cl>core/systemd                  257.5-2       257.5-3        -0.09 MiB
</span></span><span class=line><span class=cl>core/systemd-libs             257.5-2       257.5-3        -0.03 MiB       1.20 MiB
</span></span><span class=line><span class=cl>core/systemd-sysvcompat       257.5-2       257.5-3         0.00 MiB       0.01 MiB
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Total Download Size:     7.72 MiB
</span></span><span class=line><span class=cl>Total Installed Size:  153.38 MiB
</span></span><span class=line><span class=cl>Net Upgrade Size:        6.81 MiB
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: Proceed with installation? <span class=o>[</span>Y/n<span class=o>]</span> Y
</span></span><span class=line><span class=cl>:: Retrieving packages...
</span></span><span class=line><span class=cl> gnupg-2.4.7-2-x86_64 downloading...
</span></span><span class=line><span class=cl> hwdata-0.395-1-any downloading...
</span></span><span class=line><span class=cl> systemd-libs-257.5-3-x86_64 downloading...
</span></span><span class=line><span class=cl> ncurses-6.5-4-x86_64 downloading...
</span></span><span class=line><span class=cl> libxml2-2.14.3-1-x86_64 downloading...
</span></span><span class=line><span class=cl> libgcrypt-1.11.1-1-x86_64 downloading...
</span></span><span class=line><span class=cl> libarchive-3.8.0-1-x86_64 downloading...
</span></span><span class=line><span class=cl> gpgme-1.24.3-2-x86_64 downloading...
</span></span><span class=line><span class=cl> iana-etc-20250502-1-any downloading...
</span></span><span class=line><span class=cl> ca-certificates-mozilla-3.111-1-x86_64 downloading...
</span></span><span class=line><span class=cl> device-mapper-2.03.32-1-x86_64 downloading...
</span></span><span class=line><span class=cl> libtirpc-1.3.6-2-x86_64 downloading...
</span></span><span class=line><span class=cl> json-c-0.18-2-x86_64 downloading...
</span></span><span class=line><span class=cl> filesystem-2025.05.03-1-any downloading...
</span></span><span class=line><span class=cl> pacman-mirrorlist-20250522-1-any downloading...
</span></span><span class=line><span class=cl> systemd-sysvcompat-257.5-3-x86_64 downloading...
</span></span><span class=line><span class=cl>checking keyring...
</span></span><span class=line><span class=cl>checking package integrity...
</span></span><span class=line><span class=cl>loading package files...
</span></span><span class=line><span class=cl>checking <span class=k>for</span> file conflicts...
</span></span><span class=line><span class=cl>:: Processing package changes...
</span></span><span class=line><span class=cl>upgrading iana-etc...
</span></span><span class=line><span class=cl>upgrading filesystem...
</span></span><span class=line><span class=cl>warning: /etc/hosts installed as /etc/hosts.pacnew
</span></span><span class=line><span class=cl>warning: directory permissions differ on /srv/ftp/
</span></span><span class=line><span class=cl>filesystem: <span class=m>755</span>  package: <span class=m>555</span>
</span></span><span class=line><span class=cl>upgrading ncurses...
</span></span><span class=line><span class=cl>upgrading bash...
</span></span><span class=line><span class=cl>upgrading libgcrypt...
</span></span><span class=line><span class=cl>upgrading systemd-libs...
</span></span><span class=line><span class=cl>upgrading sqlite...
</span></span><span class=line><span class=cl>upgrading libtirpc...
</span></span><span class=line><span class=cl>upgrading ca-certificates-mozilla...
</span></span><span class=line><span class=cl>upgrading device-mapper...
</span></span><span class=line><span class=cl>upgrading libxml2...
</span></span><span class=line><span class=cl>upgrading gettext...
</span></span><span class=line><span class=cl>New optional dependencies <span class=k>for</span> gettext
</span></span><span class=line><span class=cl>    appstream: <span class=k>for</span> appstream support
</span></span><span class=line><span class=cl>upgrading glib2...
</span></span><span class=line><span class=cl>upgrading json-c...
</span></span><span class=line><span class=cl>upgrading gnupg...
</span></span><span class=line><span class=cl>upgrading gpgme...
</span></span><span class=line><span class=cl>upgrading hwdata...
</span></span><span class=line><span class=cl>upgrading libarchive...
</span></span><span class=line><span class=cl>upgrading pacman-mirrorlist...
</span></span><span class=line><span class=cl>warning: /etc/pacman.d/mirrorlist installed as /etc/pacman.d/mirrorlist.pacnew
</span></span><span class=line><span class=cl>upgrading systemd...
</span></span><span class=line><span class=cl>upgrading systemd-sysvcompat...
</span></span><span class=line><span class=cl>ldconfig: /usr/lib/wsl/lib/libcuda.so is not a symbolic link
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: Running post-transaction hooks...
</span></span><span class=line><span class=cl><span class=o>(</span> 1/12<span class=o>)</span> Creating system user accounts...
</span></span><span class=line><span class=cl><span class=o>(</span> 2/12<span class=o>)</span> Updating journal message catalog...
</span></span><span class=line><span class=cl><span class=o>(</span> 3/12<span class=o>)</span> Reloading system manager configuration...
</span></span><span class=line><span class=cl><span class=o>(</span> 4/12<span class=o>)</span> Reloading user manager configuration...
</span></span><span class=line><span class=cl><span class=o>(</span> 5/12<span class=o>)</span> Updating udev hardware database...
</span></span><span class=line><span class=cl><span class=o>(</span> 6/12<span class=o>)</span> Restarting marked services...
</span></span><span class=line><span class=cl><span class=o>(</span> 7/12<span class=o>)</span> Applying kernel sysctl settings...
</span></span><span class=line><span class=cl>Couldn<span class=s1>&#39;t write &#39;</span>16<span class=s1>&#39; to &#39;</span>kernel/sysrq<span class=err>&#39;</span>, ignoring: No such file or directory
</span></span><span class=line><span class=cl><span class=o>(</span> 8/12<span class=o>)</span> Creating temporary files...
</span></span><span class=line><span class=cl><span class=o>(</span> 9/12<span class=o>)</span> Reloading device manager configuration...
</span></span><span class=line><span class=cl><span class=o>(</span>10/12<span class=o>)</span> Arming ConditionNeedsUpdate...
</span></span><span class=line><span class=cl><span class=o>(</span>11/12<span class=o>)</span> Rebuilding certificate stores...
</span></span><span class=line><span class=cl><span class=o>(</span>12/12<span class=o>)</span> Reloading system bus configuration...</span></span></code></pre></div><p>下面是安装vim的过程：</p><div class="code-block highlight is-closed show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-13 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=o>[</span>root@DESKTOP-ROOSFVQ ~<span class=o>]</span><span class=c1># pacman -S vim</span>
</span></span><span class=line><span class=cl>resolving dependencies...
</span></span><span class=line><span class=cl>looking <span class=k>for</span> conflicting packages...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Package <span class=o>(</span>3<span class=o>)</span>        New Version            Net Change  Download Size
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>core/gpm           1.20.7.r38.ge82d1a6-6    0.38 MiB
</span></span><span class=line><span class=cl>extra/vim-runtime  9.1.1376-1              37.99 MiB       6.84 MiB
</span></span><span class=line><span class=cl>extra/vim          9.1.1376-1               4.89 MiB       1.47 MiB
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Total Download Size:    8.31 MiB
</span></span><span class=line><span class=cl>Total Installed Size:  43.27 MiB
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: Proceed with installation? <span class=o>[</span>Y/n<span class=o>]</span> Y
</span></span><span class=line><span class=cl>:: Retrieving packages...
</span></span><span class=line><span class=cl> vim-runtime-9.1.1376-1-x86_64 downloading...
</span></span><span class=line><span class=cl> vim-9.1.1376-1-x86_64 downloading...
</span></span><span class=line><span class=cl>checking keyring...
</span></span><span class=line><span class=cl>checking package integrity...
</span></span><span class=line><span class=cl>loading package files...
</span></span><span class=line><span class=cl>checking <span class=k>for</span> file conflicts...
</span></span><span class=line><span class=cl>:: Processing package changes...
</span></span><span class=line><span class=cl>installing vim-runtime...
</span></span><span class=line><span class=cl>Optional dependencies <span class=k>for</span> vim-runtime
</span></span><span class=line><span class=cl>    sh: support <span class=k>for</span> some tools and macros <span class=o>[</span>installed<span class=o>]</span>
</span></span><span class=line><span class=cl>    python: demoserver example tool
</span></span><span class=line><span class=cl>    gawk: mve tools upport <span class=o>[</span>installed<span class=o>]</span>
</span></span><span class=line><span class=cl>installing gpm...
</span></span><span class=line><span class=cl>installing vim...
</span></span><span class=line><span class=cl>Optional dependencies <span class=k>for</span> vim
</span></span><span class=line><span class=cl>    python: Python language support
</span></span><span class=line><span class=cl>    ruby: Ruby language support
</span></span><span class=line><span class=cl>    lua: Lua language support
</span></span><span class=line><span class=cl>    perl: Perl language support
</span></span><span class=line><span class=cl>    tcl: Tcl language support
</span></span><span class=line><span class=cl>ldconfig: /usr/lib/wsl/lib/libcuda.so is not a symbolic link
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:: Running post-transaction hooks...
</span></span><span class=line><span class=cl><span class=o>(</span>1/2<span class=o>)</span> Reloading system manager configuration...
</span></span><span class=line><span class=cl><span class=o>(</span>2/2<span class=o>)</span> Arming ConditionNeedsUpdate...
</span></span><span class=line><span class=cl><span class=o>[</span>root@DESKTOP-ROOSFVQ ~<span class=o>]</span><span class=c1>#</span></span></span></code></pre></div><p>成功！</p><h2 id=再探pacman和包管理 class=headerLink><a href=#%e5%86%8d%e6%8e%a2pacman%e5%92%8c%e5%8c%85%e7%ae%a1%e7%90%86 class=header-mark></a>5 再探Pacman和包管理</h2><h3 id=软件包管理器及软件包 class=headerLink><a href=#%e8%bd%af%e4%bb%b6%e5%8c%85%e7%ae%a1%e7%90%86%e5%99%a8%e5%8f%8a%e8%bd%af%e4%bb%b6%e5%8c%85 class=header-mark></a>5.1 软件包管理器及软件包</h3><p>前文我们用<code>pacman</code>安装了vim，但是我们还不是特别了解pacman的包管理模式，以及那些选项的含义。下面我们来详细的了解一下pacman。</p><p>根据<a href=https://wiki.archlinuxcn.org/wiki/Pacman target=_blank rel="noopener noreferrer">pacman - Arch Linux 中文维基</a>文档，pacman是一种软件包管理器。那么什么是软件包管理器呢？通过查阅<a href=https://zh.wikipedia.org/wiki/%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F target=_blank rel="noopener noreferrer">软件包管理系统 - 维基百科，自由的百科全书</a>，我们了解到</p><blockquote><p><strong>软件包管理系统</strong>是在电脑中自动安装、配制、卸载和升级<a href=https://zh.wikipedia.org/wiki/%E8%BD%AF%E4%BB%B6%E5%8C%85 title=软件包 target=_blank rel="noopener noreferrer">软件包</a>的工具组合，在各种<a href=https://zh.wikipedia.org/wiki/%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6 title=系统软件 target=_blank rel="noopener noreferrer">系统软件</a>和<a href=https://zh.wikipedia.org/wiki/%E5%BA%94%E7%94%A8%E8%BD%AF%E4%BB%B6 title=应用软件 target=_blank rel="noopener noreferrer">应用软件</a>的安装管理中均有广泛应用。</p></blockquote><p>那么软件包是什么呢？</p><blockquote><p><strong>软件包</strong>（<strong>packaged software</strong>）是对于一种<a href=https://zh.wikipedia.org/wiki/%E8%BD%AF%E4%BB%B6 title=软件 target=_blank rel="noopener noreferrer">软件</a>所进行打包的方式。在不同的操作系统中，软件包的类型有很大的区别。在<a href=https://zh.wikipedia.org/wiki/Linux title=Linux target=_blank rel="noopener noreferrer">Linux</a>、<a href=https://zh.wikipedia.org/wiki/BSD title=BSD target=_blank rel="noopener noreferrer">BSD</a>系统中，软件包主要以两种形式出现：二进制包以及源代码包。</p></blockquote><p>那么二进制包和源代码包又有什么差别呢？通过搜索<a href="https://www.google.com/search?q=what%27s+the+difference+between+binary+package+and+source+package&amp;sca_esv=829c1e259cd14284&amp;ei=8kM1aP6BA8q8seMP3dXouAU&amp;ved=0ahUKEwj-wpCg7MKNAxVKXmwGHd0qGlcQ4dUDCBA&amp;uact=5&amp;oq=what%27s+the+difference+between+binary+package+and+source+package&amp;gs_lp=Egxnd3Mtd2l6LXNlcnAiP3doYXQncyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGJpbmFyeSBwYWNrYWdlIGFuZCBzb3VyY2UgcGFja2FnZUigPlAAWJg9cAR4AJABBJgB3wKgAehiqgEJMy41Ni4xMC4xuAEDyAEA-AEBmAJEoALDW8ICERAuGIAEGLEDGNEDGIMBGMcBwgILEAAYgAQYsQMYgwHCAgUQABiABMICIBAuGIAEGLEDGNEDGIMBGMcBGJcFGNwEGN4EGOAE2AEBwgIQEAAYgAQYsQMYgwEYigUYCsICBxAAGIAEGArCAg0QLhiABBjRAxjHARgKwgIHEC4YgAQYCsICHBAuGIAEGNEDGMcBGAoYlwUY3AQY3gQY4ATYAQHCAgcQABiABBgNwgIGEAAYChgewgIEEAAYHsICBhAAGA0YHsICCRAAGIAEGBMYDcICCBAAGBMYChgewgIIEAAYExgNGB7CAggQABgIGA0YHsICCBAAGIAEGKIEwgIFEAAY7wXCAgcQIRigARgKmAMAugYGCAEQARgUkgcJNy40Ny4xMy4xoAeMmQOyBwkzLjQ3LjEzLjG4B7lb&amp;sclient=gws-wiz-serp" target=_blank rel="noopener noreferrer">what&rsquo;s the difference between binary package and source package - Google 搜索</a>，我们得到如下结论：</p><blockquote><p>There are two types of packages that include binary packages and source packages. <strong>The source packages need to be compiled and built for a system, whereas the binary packages have already been compiled for a specific installation</strong>.</p></blockquote><p>也就是说源代码包是没有经过编译的，需要用户进行手动编译。而二进制包是已经编译好了的。</p><p>其中，对于二进制包，对于不同的linux发行版，有不同的包管理器：</p><ul><li>red hat linux使用rpm进行包管理</li><li>debian下的.deb文件是用apt包管理器进行包管理，其调用dpkg（apt和dpkg又是什么关系呢？APT最早被设计成<a href=https://zh.wikipedia.org/wiki/Dpkg title=Dpkg target=_blank rel="noopener noreferrer">dpkg</a>的前端，用来处理<a href=https://zh.wikipedia.org/wiki/Deb title=Deb target=_blank rel="noopener noreferrer">deb</a>格式的软件包。现在经过APT-RPM组织修改，APT已经可以安装在支持<a href=https://zh.wikipedia.org/wiki/RPM%E5%A5%97%E4%BB%B6%E7%AE%A1%E7%90%86%E5%93%A1 title=RPM包管理员 target=_blank rel="noopener noreferrer">RPM</a>的系统管理<a href=https://zh.wikipedia.org/wiki/RPM%E5%A5%97%E4%BB%B6%E7%AE%A1%E7%90%86%E5%93%A1 title=RPM包管理员 target=_blank rel="noopener noreferrer">RPM</a>包）</li><li>Autopackage：其目标为可以简易的创造在所有的<a href=https://zh.wikipedia.org/wiki/Linux%E7%99%BC%E8%A1%8C%E7%89%88 title=Linux发行版 target=_blank rel="noopener noreferrer">Linux发行版</a>上安装的软件包，是一种通用的包管理工具</li></ul><p>而对于源代码包，也有一种包管理工具，其在Gentoo Linux下运行，可以在编译时指定编译器之类的选项，进行手动编译。当然用户也可以手动编译。</p><p>这里插播一个知识点，Linux有多种<a href=https://zh.wikipedia.org/wiki/Linux%E5%8F%91%E8%A1%8C%E7%89%88%E5%88%97%E8%A1%A8 target=_blank rel="noopener noreferrer">Linux发行版列表 - 维基百科，自由的百科全书</a>，按照打包方式划分，可以分为如下几类：</p><ul><li>Debian系：Debian，Deepin，Kali Linux，Ubuntu等；其中deb为软件包格式，用dpkg及其前端apt进行包管理；</li><li>Red Hat系：CentOS，Fedora等；使用RPM进行包管理；</li><li>Slackware系：这里不详述；</li><li>Arch系：Arch Linux，Manjaro等；使用Pacman进行包管理；</li><li>其他打包方式的包，这里不详述；</li><li>给老机器订制的小型包，这里不详述；</li></ul><h3 id=arch-包格式及创建软件包 class=headerLink><a href=#arch-%e5%8c%85%e6%a0%bc%e5%bc%8f%e5%8f%8a%e5%88%9b%e5%bb%ba%e8%bd%af%e4%bb%b6%e5%8c%85 class=header-mark></a>5.2 Arch 包格式及创建软件包</h3><blockquote><p>参考：</p><ul><li><a href=https://wiki.archlinuxcn.org/wiki/%E5%88%9B%E5%BB%BA%E8%BD%AF%E4%BB%B6%E5%8C%85 target=_blank rel="noopener noreferrer">创建软件包 - Arch Linux 中文维基</a></li><li><a href=https://zh.wikipedia.org/wiki/Ports target=_blank rel="noopener noreferrer">Ports - 维基百科，自由的百科全书</a></li><li><a href=https://zh.wikipedia.org/wiki/BSD target=_blank rel="noopener noreferrer">BSD - 维基百科，自由的百科全书</a></li></ul></blockquote><p>Pacman文档中写道，Pacman将一个简单的二进制包格式和一个易用的构建系统结合起来。Pacman的目标是简化对软件包的管理，无论软件包是来自<a href=https://wiki.archlinuxcn.org/wiki/Official_repositories title="Official repositories" target=_blank rel="noopener noreferrer">官方软件仓库</a>还是用户自己创建的软件包。这里就涉及到一个创建pacman包的问题。</p><p>文档一上来第一句话就说：</p><blockquote><p>本文旨在帮助用户利用类似于 ports 软件的 <a href=https://wiki.archlinuxcn.org/wiki/Arch_%E6%9E%84%E5%BB%BA%E7%B3%BB%E7%BB%9F title="Arch 构建系统" target=_blank rel="noopener noreferrer">Arch 构建系统</a>来创建自己的软件包，这些软件包可以提交到 <a href=https://wiki.archlinuxcn.org/wiki/Arch_%E7%94%A8%E6%88%B7%E8%BD%AF%E4%BB%B6%E4%BB%93%E5%BA%93_%5c%28AUR%5c%29 title="Arch 用户软件仓库 (AUR)" target=_blank rel="noopener noreferrer">Arch 用户软件仓库 (AUR)</a>。</p></blockquote><p>这个<code>ports</code>软件是什么东西？经过查阅<a href=https://zh.wikipedia.org/wiki/Ports target=_blank rel="noopener noreferrer">Ports - 维基百科，自由的百科全书</a>，我们查到如下内容：</p><blockquote><p><strong>Ports collections</strong> （又称 <strong>ports trees</strong> 或直接简称 <strong>ports</strong>）是一系列由<a href=https://zh.wikipedia.org/wiki/BSD title=BSD target=_blank rel="noopener noreferrer">BSD</a>系列操作系统（比如 <a href=https://zh.wikipedia.org/wiki/FreeBSD title=FreeBSD target=_blank rel="noopener noreferrer">FreeBSD</a>，<a href=https://zh.wikipedia.org/wiki/NetBSD title=NetBSD target=_blank rel="noopener noreferrer">NetBSD</a>，和 <a href=https://zh.wikipedia.org/wiki/OpenBSD title=OpenBSD target=_blank rel="noopener noreferrer">OpenBSD</a>）提供的一些 <a href=https://zh.wikipedia.org/wiki/Makefile title=Makefile target=_blank rel="noopener noreferrer">makefile</a> 和 <a href=https://zh.wikipedia.org/wiki/Patch title=Patch target=_blank rel="noopener noreferrer">patch (Unix)</a>，以作为一种简单的<a href="https://zh.wikipedia.org/w/index.php?title=%E5%AE%89%E8%A3%85&amp;action=edit&amp;redlink=1" title=安装（页面不存在） target=_blank rel="noopener noreferrer">安装</a>以及创建<a href="https://zh.wikipedia.org/w/index.php?title=%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%8C%85&amp;action=edit&amp;redlink=1" title=二进制包（页面不存在） target=_blank rel="noopener noreferrer">二进制包</a>的方法。它们通常基于<a href=https://zh.wikipedia.org/wiki/%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F title=软件包管理系统 target=_blank rel="noopener noreferrer">软件包管理系统</a>，并带有 ports <a href="https://zh.wikipedia.org/w/index.php?title=Handling_package&amp;action=edit&amp;redlink=1" title="Handling package（页面不存在）" target=_blank rel="noopener noreferrer">handling package</a> 创建以及附加工具以对软件包删除、增添或进行其他操作。除了BSD，一些<a href=https://zh.wikipedia.org/wiki/Linux%E5%8F%91%E8%A1%8C%E7%89%88 title=Linux发行版 target=_blank rel="noopener noreferrer">Linux发行版</a>有类似的软件。包括 <a href=https://zh.wikipedia.org/wiki/Gentoo title=Gentoo target=_blank rel="noopener noreferrer">Gentoo</a>的 <a href=https://zh.wikipedia.org/wiki/Portage title=Portage target=_blank rel="noopener noreferrer">Portage</a>，<a href=https://zh.wikipedia.org/wiki/Archlinux title=Archlinux target=_blank rel="noopener noreferrer">Archlinux</a> 的 <a href=https://zh.wikipedia.org/wiki/Arch%E7%BC%96%E8%AF%91%E7%B3%BB%E7%BB%9F title=Arch编译系统 target=_blank rel="noopener noreferrer">Arch编译系统</a>(ABS) ，<a href="https://zh.wikipedia.org/w/index.php?title=CRUX&amp;action=edit&amp;redlink=1" title=CRUX（页面不存在） target=_blank rel="noopener noreferrer">CRUX</a> 的以及 <a href=https://zh.wikipedia.org/wiki/Void_Linux title="Void Linux" target=_blank rel="noopener noreferrer">Void Linux</a> 的 Ports。</p></blockquote><h4 id=bsdlinux及类unix系统 class=headerLink><a href=#bsdlinux%e5%8f%8a%e7%b1%bbunix%e7%b3%bb%e7%bb%9f class=header-mark></a>5.2.1 BSD，Linux及类Unix系统</h4><p>那么BSD系列操作系统又是什么？我又查了一下：</p><blockquote><p><strong>伯克利软件包</strong>（英语：<strong>B</strong>erkeley <strong>S</strong>oftware <strong>D</strong>istribution，缩写：<strong>BSD</strong>；也被称为<strong>伯克利Unix</strong>或Berkeley Unix）是一个派生自<a href=https://zh.wikipedia.org/wiki/Unix title=Unix target=_blank rel="noopener noreferrer">Unix</a>（<a href=https://zh.wikipedia.org/wiki/%E7%B1%BBUnix title=类Unix target=_blank rel="noopener noreferrer">类Unix</a>）的<a href=https://zh.wikipedia.org/wiki/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F title=操作系统 target=_blank rel="noopener noreferrer">操作系统</a>，1970年代由<a href=https://zh.wikipedia.org/wiki/%E4%BC%AF%E5%85%8B%E5%88%A9%E5%8A%A0%E5%B7%9E%E5%A4%A7%E5%AD%A6 title=伯克利加州大学 target=_blank rel="noopener noreferrer">伯克利加州大学</a>的学生<a href=https://zh.wikipedia.org/wiki/%E6%AF%94%E5%B0%94%C2%B7%E4%B9%94%E4%BC%8A title=比尔·乔伊 target=_blank rel="noopener noreferrer">比尔·乔伊</a>开创，也被用来代表其派生出的各种包。
<a href=https://zh.wikipedia.org/wiki/BSD%E8%AE%B8%E5%8F%AF%E8%AF%81 title=BSD许可证 target=_blank rel="noopener noreferrer">BSD许可证</a>非常地宽松，因此BSD常被当作<a href=https://zh.wikipedia.org/wiki/%E5%B7%A5%E4%BD%9C%E7%AB%99 title=工作站 target=_blank rel="noopener noreferrer">工作站</a>级别的Unix系统，许多1980年代成立的计算机公司都从BSD中获益，比较著名的例子如<a href=https://zh.wikipedia.org/wiki/DEC title=DEC target=_blank rel="noopener noreferrer">DEC</a>的<a href="https://zh.wikipedia.org/w/index.php?title=Ultrix&amp;action=edit&amp;redlink=1" title=Ultrix（页面不存在） target=_blank rel="noopener noreferrer">Ultrix</a>，以及<a href=https://zh.wikipedia.org/wiki/%E6%98%87%E9%99%BD title=昇阳 target=_blank rel="noopener noreferrer">Sun公司</a>的<a href=https://zh.wikipedia.org/wiki/SunOS title=SunOS target=_blank rel="noopener noreferrer">SunOS</a>。 1990年代，BSD大幅度被<a href=https://zh.wikipedia.org/wiki/System_V title="System V" target=_blank rel="noopener noreferrer">System V</a> 4.x版以及<a href="https://zh.wikipedia.org/w/index.php?title=OSF/1&amp;action=edit&amp;redlink=1" title=OSF/1（页面不存在） target=_blank rel="noopener noreferrer">OSF/1</a>系统所取代，但其<a href=https://zh.wikipedia.org/wiki/%E5%BC%80%E6%BA%90 title=开源 target=_blank rel="noopener noreferrer">开源</a>版本被用在<a href=https://zh.wikipedia.org/wiki/%E7%B6%B2%E9%9A%9B%E7%B6%B2%E8%B7%AF title=互联网 target=_blank rel="noopener noreferrer">互联网</a>的开发。</p></blockquote><p>因此我们可以了解到，BSD是一种派生自Unix的操作系统，以及其派生出的各种包。</p><p>Linux和BSD的区别又在哪里呢？通过搜索<a href="https://www.google.com/search?q=Linux%E5%92%8CBSD%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88&amp;oq=Linux%E5%92%8CBSD%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88&amp;gs_lcrp=EgRlZGdlKgYIABBFGDkyBggAEEUYOTIHCAEQABjvBTIHCAIQABjvBTIHCAMQABjvBTIHCAQQABjvBdIBCDQ5MzNqMGoxqAIAsAIA&amp;sourceid=chrome&amp;ie=UTF-8" target=_blank rel="noopener noreferrer">Linux和BSD的区别是什么 - Google 搜索</a>，我们了解到Linux指的是内核，而Linux发行版是完整的Linux操作系统。那么BSD也是一个完整的操作系统，它并不是内核，用的也不是Linux内核。BSD和Linux都是类Unix操作系统，它们并不是同一个操作系统。BSD操作系统家族见<a href=https://zh.wikipedia.org/wiki/BSD#BSD%E5%AE%B6%E6%97%8F target=_blank rel="noopener noreferrer">此</a>。BSD派生的操作系统包括FreeBSD操作系统。</p><p>那么再查一下，Unix又是什么呢？从<a href=https://zh.wikipedia.org/zh-cn/UNIX target=_blank rel="noopener noreferrer">UNIX - 维基百科，自由的百科全书</a>我们可以了解到：</p><blockquote><p>UNIX操作系统，是一个强大的多用户、多任务操作系统，支持多种<a href=https://zh.wikipedia.org/wiki/%E6%8C%87%E4%BB%A4%E9%9B%86%E6%9E%B6%E6%A7%8B title=指令集架构 target=_blank rel="noopener noreferrer">处理器架构</a>，按照操作系统的分类，属于<a href=https://zh.wikipedia.org/wiki/%E5%88%86%E6%97%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F title=分时操作系统 target=_blank rel="noopener noreferrer">分时操作系统</a>，最早由肯·汤普逊、丹尼斯·里奇和道格拉斯·麦克罗伊于1969年在AT&amp;T的贝尔实验室开发。目前它的商标权由<a href=https://zh.wikipedia.org/wiki/%E5%9C%8B%E9%9A%9B%E9%96%8B%E6%94%BE%E6%A8%99%E6%BA%96%E7%B5%84%E7%B9%94 title=国际开放标准组织 target=_blank rel="noopener noreferrer">国际开放标准组织</a>所拥有，只有符合单一UNIX规范的UNIX系统才能使用UNIX这个名称，否则只能称为类UNIX（UNIX-like）。</p></blockquote><p>类Unix操作系统和Unix又有什么区别？通过<a href=https://zh.wikipedia.org/wiki/%E7%B1%BBUnix%E7%B3%BB%E7%BB%9F target=_blank rel="noopener noreferrer">类Unix系统 - 维基百科，自由的百科全书</a>可得，其主要区别在于是否<strong>符合单一UNIX规范</strong>：</p><blockquote><p><strong>类 Unix 系统</strong>（英语：<strong>Unix-like</strong>；经常被称为 <strong>UN*X</strong> 或 *<strong>nix</strong>）指各种 <a href=https://zh.wikipedia.org/wiki/Unix title=Unix target=_blank rel="noopener noreferrer">Unix</a> 的派生系统，比如 <a href=https://zh.wikipedia.org/wiki/FreeBSD title=FreeBSD target=_blank rel="noopener noreferrer">FreeBSD</a>、<a href=https://zh.wikipedia.org/wiki/OpenBSD title=OpenBSD target=_blank rel="noopener noreferrer">OpenBSD</a>、<a href=https://zh.wikipedia.org/wiki/%E6%98%87%E9%99%BD%E9%9B%BB%E8%85%A6 title=Sun微系统 target=_blank rel="noopener noreferrer">SUN</a> 的 <a href=https://zh.wikipedia.org/wiki/Solaris title=Solaris target=_blank rel="noopener noreferrer">Solaris</a>，以及各种与传统 Unix 类似的系统，例如 <a href=https://zh.wikipedia.org/wiki/Minix title=Minix target=_blank rel="noopener noreferrer">Minix</a>、<a href=https://zh.wikipedia.org/wiki/Linux title=Linux target=_blank rel="noopener noreferrer">Linux</a>、<a href=https://zh.wikipedia.org/wiki/QNX title=QNX target=_blank rel="noopener noreferrer">QNX</a> 等。它们虽然有的是<a href=https://zh.wikipedia.org/wiki/%E8%87%AA%E7%94%B1%E8%BD%AF%E4%BB%B6 title=自由软件 target=_blank rel="noopener noreferrer">自由软件</a>，有的是<a href=https://zh.wikipedia.org/wiki/%E7%A7%81%E6%9C%89%E8%BD%AF%E4%BB%B6 title=私有软件 target=_blank rel="noopener noreferrer">私有软件</a>，但都相当程度地继承了原始 UNIX 的特性，有许多相似处，并且都在一定程度上遵守 <a href=https://zh.wikipedia.org/wiki/POSIX title=POSIX target=_blank rel="noopener noreferrer">POSIX</a> 规范。<a href=https://zh.wikipedia.org/wiki/%E7%B1%BBUnix%E7%B3%BB%E7%BB%9F#cite_note-1 target=_blank rel="noopener noreferrer">[1]</a><a href=https://zh.wikipedia.org/wiki/%E7%B1%BBUnix%E7%B3%BB%E7%BB%9F#cite_note-2 target=_blank rel="noopener noreferrer">[2]</a></p><p>UNIX 的商标权由<a href=https://zh.wikipedia.org/wiki/%E5%9C%8B%E9%9A%9B%E9%96%8B%E6%94%BE%E6%A8%99%E6%BA%96%E7%B5%84%E7%B9%94 title=国际开放标准组织 target=_blank rel="noopener noreferrer">国际开放标准组织</a>所拥有，只有符合<a href=https://zh.wikipedia.org/wiki/%E5%96%AE%E4%B8%80UNIX%E8%A6%8F%E7%AF%84 title=单一UNIX规范 target=_blank rel="noopener noreferrer">单一 UNIX 规范</a>的 UNIX 系统才能使用 UNIX 这个名称，否则只能称为类 Unix（Unix-like）。在日常用法里，当人们表示类 Unix 的系统而非 UNIX 官方版本时，常常使用首字母大写的拼写方式，而非全大写。</p></blockquote><p>什么是单一的UNIX规范呢？根据<a href="https://www.google.com/search?q=%E4%BB%80%E4%B9%88%E6%98%AF%E5%8D%95%E4%B8%80UNIX%E8%A7%84%E8%8C%83&amp;sca_esv=3498eaba75d41009&amp;ei=fK41aN6SG_up1e8PrvGc2QM&amp;ved=0ahUKEwjewMnt0cONAxX7VPUHHa44JzsQ4dUDCBA&amp;uact=5&amp;oq=%E4%BB%80%E4%B9%88%E6%98%AF%E5%8D%95%E4%B8%80UNIX%E8%A7%84%E8%8C%83&amp;gs_lp=Egxnd3Mtd2l6LXNlcnAiGeS7gOS5iOaYr-WNleS4gFVOSVjop4TojIMyBRAAGO8FMggQABiABBiiBDIIEAAYgAQYogQyCBAAGIAEGKIEMggQABiABBiiBEilI1CGDViJInABeAGQAQCYAasDoAHxHaoBCjMuMTYuMy4xLjG4AQPIAQD4AQGYAhKgAocRwgIKEAAYsAMY1gQYR8ICCxAAGIAEGLEDGIMBwgIIEAAYgAQYsQPCAhEQLhiABBixAxjRAxiDARjHAcICCxAuGIAEGLEDGIMBwgITEC4YgAQY0QMYQxjUAhjHARiKBcICChAAGIAEGEMYigXCAg4QLhiABBixAxiDARiKBcICIhAuGIAEGNEDGEMY1AIYxwEYigUYlwUY3AQY3gQY4ATYAQHCAhYQLhiABBixAxjRAxhDGIMBGMcBGIoFwgIWEC4YgAQY0QMYQxjUAhjHARjJAxiKBcICChAuGIAEGEMYigXCAgsQABiABBiSAxiKBcICJRAuGIAEGLEDGNEDGEMYgwEYxwEYigUYlwUY3AQY3gQY4ATYAQHCAg4QABiABBixAxiDARiKBcICDhAuGIAEGLEDGNEDGMcBwgIFEAAYgATCAggQLhiABBjUAsICBxAAGIAEGAyYAwCIBgGQBgK6BgYIARABGBSSBwYyLjE1LjGgB8xssgcGMS4xNS4xuAeCEQ&amp;sclient=gws-wiz-serp" target=_blank rel="noopener noreferrer">什么是单一UNIX规范 - Google 搜索</a>得到：</p><blockquote><p>单一UNIX规范（Single UNIX Specification, SUS）是<strong>一套用于规范UNIX操作系统接口的标准，旨在确保在遵循该规范的UNIX系统上开发的程序能够在其他不同的UNIX系统上运行</strong>。它包括了基础操作系统环境、网络服务、窗口系统服务、国际化相关事项及编程语言等内容。SUS 是由IEEE与The Open Group提出，目前由Austin Group负责维持。﻿</p><p>更详细的解释如下：</p><ul><li><strong>标准UNIX接口：</strong>:单一UNIX规范定义了UNIX操作系统的核心接口，包括C语言程序和用户命令接口。﻿</li><li><strong>可移植性：</strong>:该规范的目的是提高UNIX程序的跨平台可移植性，即一个在符合规范的UNIX系统上开发的程序可以在其他符合规范的UNIX系统上运行。﻿</li><li><strong>IEEE和The Open Group：</strong>:单一UNIX规范是由IEEE（电气电子工程师协会）和The Open Group（开放组织）共同制定的，The Open Group负责 UN*X认证。﻿</li><li><strong>POSIX：</strong>:单一UNIX规范与POSIX（可移植操作系统接口）标准有关。POSIX标准是IEEE定义的UNIX系统接口规范。单一UNIX规范在POSIX的基础上增加了额外的接口和功能。﻿</li><li><strong>UNIX认证：</strong>:遵循单一UNIX规范的UNIX操作系统被允许使用UNIX商标。﻿</li><li><strong>范围：</strong>:单一UNIX规范涵盖了广泛的UNIX系统组件，包括基础操作系统环境、网络服务、窗口系统服务、国际化相关事项及编程语言。﻿</li><li><strong>Austin Group：</strong>:Austin Group是 负责维护单一UNIX规范。</li></ul></blockquote><p>这里说的其实不是特别清楚，因为我们并不知道为什么Linux等操作系统不符合单一的Unix规范，因此我进一步查了一下<a href="https://www.google.com/search?q=Linux%E7%AD%89%E7%B1%BBUNIX%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E7%AC%A6%E5%90%88%E5%8D%95%E4%B8%80UNIX%E8%A7%84%E8%8C%83&amp;sca_esv=3498eaba75d41009&amp;ei=Ba81aLjuGKrCvr0Ptvyv4QQ&amp;ved=0ahUKEwj4hPGu0sONAxUqoa8BHTb-K0wQ4dUDCBA&amp;uact=5&amp;oq=Linux%E7%AD%89%E7%B1%BBUNIX%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E7%AC%A6%E5%90%88%E5%8D%95%E4%B8%80UNIX%E8%A7%84%E8%8C%83&amp;gs_lp=Egxnd3Mtd2l6LXNlcnAiPUxpbnV4562J57G7VU5JWOaTjeS9nOezu-e7n-S4uuS7gOS5iOS4jeespuWQiOWNleS4gFVOSVjop4TojIMyChAAGLADGNYEGEcyChAAGLADGNYEGEcyChAAGLADGNYEGEcyChAAGLADGNYEGEcyChAAGLADGNYEGEcyChAAGLADGNYEGEcyChAAGLADGNYEGEcyChAAGLADGNYEGEcyChAAGLADGNYEGEcyChAAGLADGNYEGEdI_Q5QugVYgw5wAXgBkAEAmAH6AaABjhCqAQUwLjguM7gBA8gBAPgBAZgCAaACB5gDAIgGAZAGCpIHATGgB98asgcAuAcA&amp;sclient=gws-wiz-serp" target=_blank rel="noopener noreferrer">Linux等类UNIX操作系统为什么不符合单一UNIX规范 - Google 搜索</a>：</p><blockquote><p>Linux 等类UNIX操作系统之所以不符合单一UNIX规范，<strong>主要原因在于它们并没有经过严格的认证，以证明符合规范的特定要求</strong>。单一UNIX规范由国际开放标准组织（The Open Group）制定，只有符合该规范的系统才能使用"UNIX"这个名称。类UNIX操作系统，如Linux和BSD，尽管与UNIX有着紧密的联系，并且共享许多相同的特性，但它们并没有经过该认证，因此只能被称为类UNIX操作系统，而不是UNIX。﻿</p><p>具体来说，以下是一些原因：</p><ul><li><strong>认证要求</strong>：单一UNIX规范定义了操作系统的具体特性和接口，<strong>并要求操作系统通过严格的测试来证明符合这些要求</strong>。Linux等开源操作系统并没有经过这样的认证，因此不能被称为符合单一UNIX规范的UNIX。﻿</li><li><strong>开源性</strong>：Linux是开源的，<strong>这使得它在设计和实现上更灵活，但也意味着它在特定标准上的严格遵从性可能不如封闭的UNIX系统</strong>。﻿</li><li><strong>BSD变体</strong>：BSD系统也并非都符合单一UNIX规范。它们作为类UNIX操作系统，<strong>也受到相同的限制，即没有获得单一UNIX的官方认证</strong>。﻿</li><li><strong>macOS的特殊情况</strong>：macOS虽然也基于UNIX，但它也并非完全符合单一UNIX规范。<strong>由于它采用了混合内核架构，并且对UNIX的标准进行了扩展</strong>，因此也无法直接获得单一UNIX的认证。﻿</li></ul><p>简而言之，虽然Linux等类UNIX操作系统与UNIX有很强的相似性，<strong>但它们并没有经过官方认证以证明符合单一UNIX规范，因此它们只能被称为类UNIX操作系统</strong>，而不是UNIX。</p></blockquote><p>总结一下，根据前文，类Unix包括Linux发行版，BSD操作系统，macOS（均支持POSIX标准）。</p><h4 id=posix标准详解 class=headerLink><a href=#posix%e6%a0%87%e5%87%86%e8%af%a6%e8%a7%a3 class=header-mark></a>5.2.2 POSIX标准详解</h4><p>维基百科中还有一句，说类Unix系统虽然不全是完全符合Unix规范，但是遵循<a href=https://zh.wikipedia.org/wiki/POSIX title=POSIX target=_blank rel="noopener noreferrer">POSIX</a> 规范，那么什么是<a href=https://zh.wikipedia.org/wiki/POSIX title=POSIX target=_blank rel="noopener noreferrer">POSIX</a> 规范呢？还是看维基百科：</p><blockquote><p><strong>可移植操作系统接口</strong>（英语：Portable Operating System Interface，缩写为<strong>POSIX</strong>）是<a href=https://zh.wikipedia.org/wiki/IEEE title=IEEE target=_blank rel="noopener noreferrer">IEEE</a>为要在各种<a href=https://zh.wikipedia.org/wiki/%E7%B1%BBUnix%E7%B3%BB%E7%BB%9F title=类Unix系统 target=_blank rel="noopener noreferrer">类UNIX</a><a href=https://zh.wikipedia.org/wiki/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F title=操作系统 target=_blank rel="noopener noreferrer">操作系统</a>上运行软件，而定义<a href=https://zh.wikipedia.org/wiki/API title=API target=_blank rel="noopener noreferrer">API</a>的一系列互相关联的标准的总称，其正式称呼为IEEE Std 1003，而国际标准名称为<a href=https://zh.wikipedia.org/wiki/ISO title=ISO target=_blank rel="noopener noreferrer">ISO</a>/<a href=https://zh.wikipedia.org/wiki/IEC title=IEC target=_blank rel="noopener noreferrer">IEC</a> 9945。此标准源于一个大约开始于1985年的项目。POSIX这个名称是由<a href=https://zh.wikipedia.org/wiki/%E7%90%86%E6%9F%A5%E5%BE%B7%C2%B7%E6%96%AF%E6%89%98%E6%9B%BC title=理查德·斯托曼 target=_blank rel="noopener noreferrer">理查德·斯托曼</a>（RMS）应IEEE的要求而提议的一个易于记忆的名称。它基本上是Portable Operating System Interface（可移植操作系统接口）的缩写，而<strong>X</strong>则表明其对Unix API的传承。</p><p><a href=https://zh.wikipedia.org/wiki/Linux title=Linux target=_blank rel="noopener noreferrer">Linux</a>基本上逐步实现了POSIX兼容，但并没有参加正式的POSIX认证。</p><p><a href=https://zh.wikipedia.org/wiki/%E5%BE%AE%E8%BD%AF title=微软 target=_blank rel="noopener noreferrer">微软</a>的<a href=https://zh.wikipedia.org/wiki/Windows_NT title="Windows NT" target=_blank rel="noopener noreferrer">Windows NT</a>声称部分实现了POSIX标准。</p><p>当前的POSIX主要分为四个部分：Base Definitions、System Interfaces、Shell and Utilities和Rationale。</p></blockquote><p>但是我感觉还是很抽象，于是我问了一下deepseek：</p><blockquote><p>网上对POSIX的描述总是很抽象，就说是一组API接口标准，我也不知道什么是API接口，什么是API接口标准。如何通俗易懂的理解API、API接口标准和POSIX，比如我想实现一个操作系统，实现Linux里的那些shell命令算遵循POSIX吗？实现socket套接字接口算遵循POSIX吗？你能给我生动的举一些例子，在我自己的操作系统里需要实现哪些东西，才是遵循POSIX呢？</p></blockquote><p>它是这样回答的：</p><p>理解POSIX就像学习做一道标准化的「宫保鸡丁」——无论你在哪个餐馆点这道菜，都能预期相同的味道和配料。下面用厨房的比喻带你彻底搞懂这些概念：</p><p>一、用「开餐馆」理解API和标准</p><ol><li><p><strong>API = 餐厅的菜单</strong></p><ul><li>你（程序员）是顾客，操作系统是厨房</li><li>不用知道厨房怎么做菜（系统调用实现），只要会点菜（调用API）</li><li>例：<code>write(fd, buf, size)</code> 就像点"辣子鸡丁"的指令</li></ul></li><li><p><strong>API标准 = 菜谱规范</strong></p><ul><li>不同餐馆（操作系统）的同一道菜必须：
✅ 用鸡肉（不能换成鱼肉）
✅ 放干辣椒（不能放青椒）</li><li>POSIX就是这样的"操作系统菜谱国家标准"</li></ul></li></ol><p>二、POSIX具体规定什么？（以你的OS为例）</p><ol><li><strong>必须实现的"招牌菜"</strong>（核心接口）</li></ol><div class=table-wrapper><table><thead><tr><th style=text-align:>类别</th><th style=text-align:>例子</th><th style=text-align:>你的OS需要实现</th></tr></thead><tbody><tr><td style=text-align:>文件操作</td><td style=text-align:><code>open/read/write</code></td><td style=text-align:>能操作U盘里的txt文件</td></tr><tr><td style=text-align:>进程控制</td><td style=text-align:><code>fork/exec</code></td><td style=text-align:>支持在终端运行<code>ls &</code>后台命令</td></tr><tr><td style=text-align:>Shell命令</td><td style=text-align:><code>ls/cd/mkdir</code></td><td style=text-align:>实现这些命令的核心功能</td></tr><tr><td style=text-align:>信号处理</td><td style=text-align:><code>kill/signal</code></td><td style=text-align:>Ctrl+C能终止程序</td></tr></tbody></table></div><ol><li><strong>需要遵守的"烹饪流程"</strong>（行为规范）</li></ol><ul><li>文件路径必须用<code>/</code>分隔（即使你在Windows开发）</li><li><code>ls</code>命令输出的时间格式必须是：
<code>-rw-r--r-- 1 user group 1024 Jun 5 10:00 file.txt</code></li><li>管道符<code>|</code>要能连接两个进程（如<code>ps aux | grep ssh</code>）</li></ul><p>三、你的两个具体问题解析</p><ol><li><p><strong>实现shell命令</strong></p><ul><li>✅ 算部分遵循POSIX</li><li>必须实现：<code>ls/cd/pwd/mkdir/rm</code>等基础命令</li><li>可选实现：<code>awk/sed</code>等高级工具</li></ul></li><li><p><strong>实现socket</strong></p><ul><li><p>✅ 属于POSIX-2001标准</p></li><li><p>必须支持：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">c</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-14 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=kt>int</span> <span class=n>sockfd</span> <span class=o>=</span> <span class=nf>socket</span><span class=p>(</span><span class=n>AF_INET</span><span class=p>,</span> <span class=n>SOCK_STREAM</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span> 
</span></span><span class=line><span class=cl><span class=nf>bind</span><span class=p>(</span><span class=n>sockfd</span><span class=p>,</span> <span class=p>(</span><span class=k>struct</span> <span class=n>sockaddr</span><span class=o>*</span><span class=p>)</span><span class=o>&amp;</span><span class=n>addr</span><span class=p>,</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>addr</span><span class=p>));</span></span></span></code></pre></div></li></ul></li></ol><p>四、自己实现OS的POSIX Checklist</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">markdown</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-15 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=k>1.</span> [ ] 文件系统：支持<span class=sb>`/tmp`</span> <span class=sb>`/home`</span>等标准目录结构
</span></span><span class=line><span class=cl><span class=k>2.</span> [ ] 系统调用：实现<span class=sb>`fork/waitpid/exit`</span>进程管理
</span></span><span class=line><span class=cl><span class=k>3.</span> [ ] 终端控制：处理<span class=sb>`Ctrl+Z`</span>挂起信号
</span></span><span class=line><span class=cl><span class=k>4.</span> [ ] 用户权限：<span class=sb>`chmod 755`</span>能实际生效
</span></span><span class=line><span class=cl>5. [ ] 时间管理：<span class=sb>`time_t`</span>用Unix时间戳格式</span></span></code></pre></div><p>五、生动案例：不符合POSIX的后果</p><p>假设你的OS这样实现：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">python</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-16 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=c1># 非POSIX行为</span>
</span></span><span class=line><span class=cl><span class=nb>open</span><span class=p>(</span><span class=s2>&#34;file.txt&#34;</span><span class=p>,</span> <span class=s2>&#34;r&#34;</span><span class=p>)</span>  <span class=c1># 用反斜杠路径</span>
</span></span><span class=line><span class=cl><span class=n>ls</span> <span class=o>-</span><span class=n>l</span>                 <span class=c1># 输出&#34;2024年6月5日&#34;而不是&#34;Jun 5&#34;</span></span></span></code></pre></div><p>结果：</p><ul><li>❌ Python解释器跑崩</li><li>❌ Bash脚本无法运行</li><li>✅ 但你的OS仍然能开机（只是软件生态受限）</li></ul><p>六、快速验证方法</p><p>在你开发的OS上运行：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-17 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl>./configure --prefix<span class=o>=</span>/usr
</span></span><span class=line><span class=cl>make</span></span></code></pre></div><p>如果大量开源软件能正常编译安装，说明POSIX兼容性良好。</p><p>POSIX就像编程界的"普通话"——你当然可以用方言（自定义API），但会说普通话（POSIX）才能和更多人交流（运行更多软件）。现在你可以自信地开发自己的"方言+普通话"混合系统了！</p><blockquote><p>所以POSIX规定的是最终的一些行为一致，而不是具体的调用函数的函数名一致，是吗？比如我可以在在自己的操作系统中将<code>ls</code>起名为<code>lls</code>，只要我的lls和ls打印出来的效果相同？如果函数调用的名字可以不同，那选项之类的需要保持命名一致吗？比如他用<code>ls -a</code>，我可以用<code>ls --all</code>吗？</p></blockquote><p>你的理解<strong>部分正确</strong>，但POSIX的规定比这个更精细。让我们用「翻译外国小说」来比喻：</p><p>一、POSIX的「三层规定」</p><div class=table-wrapper><table><thead><tr><th style=text-align:>层级</th><th style=text-align:>类比</th><th style=text-align:>你的<code>lls</code>例子</th><th style=text-align:>是否允许</th></tr></thead><tbody><tr><td style=text-align:><strong>函数名/命令名</strong></td><td style=text-align:>原著角色名字</td><td style=text-align:><code>ls</code>改名<code>lls</code></td><td style=text-align:>❌ 不允许</td></tr><tr><td style=text-align:><strong>选项格式</strong></td><td style=text-align:>关键剧情对白</td><td style=text-align:><code>-a</code>改成<code>--all</code></td><td style=text-align:>❌ 不允许</td></tr><tr><td style=text-align:><strong>输出行为</strong></td><td style=text-align:>故事核心情节</td><td style=text-align:><code>lls</code>输出和<code>ls</code>格式相同</td><td style=text-align:>✅ 允许</td></tr></tbody></table></div><p>二、具体到你的问题</p><ol><li><p><strong>命令名称</strong></p><ul><li>❌ 不能把<code>ls</code>改名为<code>lls</code></li><li>POSIX明确规定了<a href=https://pubs.opengroup.org/onlinepubs/9699919799/utilities/ target=_blank rel="noopener noreferrer">标准工具名称</a></li><li>就像你不能把《哈利波特》改名《哈啰波特》还声称是官方翻译</li></ul></li><li><p><strong>选项格式</strong></p><ul><li>❌ <code>-a</code>不能改成<code>--all</code></li><li>但可以<strong>额外支持</strong><code>--all</code>（像双语对照版）</li></ul><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-18 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=c1># 你的OS必须这样：</span>
</span></span><span class=line><span class=cl>ls -a    <span class=c1># POSIX强制要求</span>
</span></span><span class=line><span class=cl>lls -a   <span class=c1># 非法</span>
</span></span><span class=line><span class=cl>ls --all <span class=c1># 可额外支持（非POSIX要求）</span></span></span></code></pre></div></li><li><p><strong>输出格式</strong></p><ul><li>✅ 时间显示<code>Jun 5 10:00</code>还是<code>2024-06-05</code>可以微调</li><li>✅ 但必须有：权限/用户/大小等核心字段</li></ul><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-19 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=c1># 合法调整示例（字段顺序不变）：</span>
</span></span><span class=line><span class=cl>-rw-r--r-- <span class=m>1</span> user group <span class=m>1024</span> <span class=o>[</span>Jun 5<span class=o>]</span> file.txt  <span class=c1># POSIX</span>
</span></span><span class=line><span class=cl>-rw-r--r-- <span class=m>1</span> user group <span class=m>1024</span> <span class=o>[</span>06-05<span class=o>]</span> file.txt <span class=c1># 你的OS</span></span></span></code></pre></div></li></ol><p>三、开发建议（平衡兼容性）</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">c</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-20 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=c1>// 你的OS应该这样实现：
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>lls</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>argv</span> <span class=o>==</span> <span class=s>&#34;--all&#34;</span><span class=p>)</span> <span class=p>{</span>  <span class=c1>// 扩展支持
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nf>show_hidden_files</span><span class=p>();</span> 
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>argv</span> <span class=o>==</span> <span class=s>&#34;-a&#34;</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// POSIX强制要求
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nf>show_hidden_files</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nf>perror</span><span class=p>(</span><span class=s>&#34;Invalid option&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>四、为什么这么严格？</p><ol><li><p><strong>脚本灾难</strong>
如果允许改名：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-21 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=c1># 所有现存脚本崩溃</span>
</span></span><span class=line><span class=cl><span class=c1>#!/bin/sh</span>
</span></span><span class=line><span class=cl>ls -a  <span class=c1># 你的OS找不到命令</span></span></span></code></pre></div></li><li><p><strong>行业共识</strong>
Linux/macOS/BSD都遵守这些规则，就像：</p><ul><li>所有汽车厂商的「油门」都在右边</li><li>所有电源插座都左零右火</li></ul></li></ol><p>五、实操 checklist</p><p>在你的OS中：</p><ul><li>✅ <strong>必须保持</strong>：<code>ls/cd/mkdir</code>等命令名</li><li>✅ <strong>必须支持</strong>：<code>-a -l -R</code>等POSIX选项</li><li>✅ <strong>可以扩展</strong>：<code>--all --color</code>等GNU风格选项</li><li>✅ <strong>输出字段</strong>：权限/用户/大小必须存在（顺序可微调）</li></ul><p>就像翻译《圣经》——你可以加注释（扩展功能），但不能把「耶稣」译成「如来」（破坏兼容性）。现在你对POSIX的严格性应该有了更立体的认知！</p><h4 id=操作系统操作系统内核系统调用接口及ports软件 class=headerLink><a href=#%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f%e5%86%85%e6%a0%b8%e7%b3%bb%e7%bb%9f%e8%b0%83%e7%94%a8%e6%8e%a5%e5%8f%a3%e5%8f%8aports%e8%bd%af%e4%bb%b6 class=header-mark></a>5.2.3 操作系统，操作系统内核，系统调用接口及Ports软件</h4><p>我觉得还是对很多细节和以上几个术语之间的关系不太理解，所以我又发问了：</p><blockquote><p>如果我想写一个操作系统，不使用已有的网络上的任何库，那我实现的时候需要一条一条的对着POSIX写吗？我看POSIX标准很庞大啊，我要怎么保证我的操作系统符合POSIX标准？还是应该对操作系统的某些部分使用网络上的什么已有的库？如果需要的话，应该怎么实现？能不能再额外生动形象的讲解一下，操作系统、操作系统内核、操作系统接口、系统调用、POSIX之间是什么关系？而BSD，Linux，Ports软件，包管理工具（dpkg，apt，pacman）之间又是什么关系？请尽量讲解的详尽、形象且通俗易懂。</p></blockquote><p>好的！让我们用「建造城市」的比喻来彻底理解这些概念，并给出具体实现方案。</p><hr><p>一、操作系统组件关系（城市比喻）</p><div class=table-wrapper><table><thead><tr><th style=text-align:>概念</th><th style=text-align:>城市类比</th><th style=text-align:>具体表现例子</th></tr></thead><tbody><tr><td style=text-align:><strong>硬件</strong></td><td style=text-align:>土地和自然资源</td><td style=text-align:>CPU=发电厂，内存=临时仓库，硬盘=永久仓库</td></tr><tr><td style=text-align:><strong>内核</strong></td><td style=text-align:>市政府+基建部门</td><td style=text-align:>管理内存分配（土地规划）、进程调度（交通信号灯）、驱动硬件（水厂/电厂）</td></tr><tr><td style=text-align:><strong>系统调用</strong></td><td style=text-align:>市民热线12345</td><td style=text-align:><code>write()</code>=申请修路，<code>fork()</code>=开分公司</td></tr><tr><td style=text-align:><strong>POSIX接口</strong></td><td style=text-align:>国家标准《城市建设规范》</td><td style=text-align:>规定"所有道路宽度≥3米"（即<code>ls</code>命令必须支持<code>-l</code>选项）</td></tr><tr><td style=text-align:><strong>Shell/应用</strong></td><td style=text-align:>市民和企业</td><td style=text-align:>Chrome=购物中心，vim=文具店</td></tr></tbody></table></div><hr><p>二、自研OS如何对待POSIX（建城指南）</p><p>是否要逐条实现POSIX？</p><ul><li><p>❌ 不需要全实现（就像县城不必建机场）</p></li><li><p>✅ <strong>关键部分</strong>必须实现（否则软件跑不起来）：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">c</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-22 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=cm>/* 最小POSIX子集示例 */</span>
</span></span><span class=line><span class=cl><span class=c1>// 文件系统
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nf>open</span><span class=p>(),</span> <span class=nf>read</span><span class=p>(),</span> <span class=nf>write</span><span class=p>(),</span> <span class=nf>mkdir</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 进程管理
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nf>fork</span><span class=p>(),</span> <span class=nf>exec</span><span class=p>(),</span> <span class=nf>wait</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 基础工具
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=nf>sh</span> <span class=p>(</span><span class=n>Shell</span><span class=p>),</span> <span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>ls</span><span class=p>,</span> <span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>cp</span></span></span></code></pre></div></li></ul><p>如何保证兼容性？</p><ul><li><p><strong>测试工具</strong>：用<a href=https://pubs.opengroup.org/onlinepubs/9699919799/ target=_blank rel="noopener noreferrer">POSIX测试套件</a>（相当于验收检查表）</p></li><li><p><strong>偷懒技巧</strong>：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-23 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=c1># 只实现Linux的系统调用号（x86_64）：</span>
</span></span><span class=line><span class=cl><span class=c1># 比如 write=1, read=0, open=2...</span>
</span></span><span class=line><span class=cl><span class=c1># 这样现有程序二进制文件可以直接运行</span></span></span></code></pre></div></li></ul><p>何时用现有库？</p><div class=table-wrapper><table><thead><tr><th style=text-align:>场景</th><th style=text-align:>推荐方案</th><th style=text-align:>相当于城市建设中&mldr;</th></tr></thead><tbody><tr><td style=text-align:>文件系统格式化</td><td style=text-align:>用MIT授权的FAT32库</td><td style=text-align:>直接采购标准建材</td></tr><tr><td style=text-align:>网络协议栈</td><td style=text-align:>移植BSD的TCP/IP栈</td><td style=text-align:>引进成熟的下水道系统</td></tr><tr><td style=text-align:>图形界面</td><td style=text-align:>自己写framebuffer驱动</td><td style=text-align:>自建地方特色建筑</td></tr></tbody></table></div><hr><p>三、核心概念关系详解</p><p>操作系统层级模型：</p><pre class=mermaid>graph TD
    A[硬件] --> B[内核]
    B --> C[系统调用]
    C --> D[POSIX接口]
    D --> E[Shell/应用]
</pre><p>Linux/BSD/Ports的关系：</p><div class=table-wrapper><table><thead><tr><th style=text-align:>概念</th><th style=text-align:>类比</th><th style=text-align:>实例说明</th></tr></thead><tbody><tr><td style=text-align:><strong>Linux内核</strong></td><td style=text-align:>上海市政府的章程</td><td style=text-align:>提供核心功能（调度/内存管理），但不管应用商店</td></tr><tr><td style=text-align:><strong>BSD系统</strong></td><td style=text-align:>北京市政府+国营商店</td><td style=text-align:>内核和基础工具（如<code>ls</code>）是一个整体</td></tr><tr><td style=text-align:><strong>Ports</strong></td><td style=text-align:>特许加盟店</td><td style=text-align:>FreeBSD的<code>/usr/ports</code>里存着软件配方（Makefile），现编译安装</td></tr><tr><td style=text-align:><strong>dpkg/apt</strong></td><td style=text-align:>快递配送体系</td><td style=text-align:>Debian直接分发二进制包（像预制菜）</td></tr><tr><td style=text-align:><strong>pacman</strong></td><td style=text-align:>智能仓储中心</td><td style=text-align:>Arch Linux的仓库同时存源码和二进制包</td></tr></tbody></table></div><hr><p>四、自研OS实操路线图</p><p>阶段1：裸机启动（打好地基）</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">asm</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-24 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=c1>; 示例：x86汇编启动代码
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nf>org</span> <span class=mi>0x7C00</span>
</span></span><span class=line><span class=cl><span class=nl>start:</span>
</span></span><span class=line><span class=cl>    <span class=nf>mov</span> <span class=no>ax</span><span class=p>,</span> <span class=no>cs</span>
</span></span><span class=line><span class=cl>    <span class=nf>mov</span> <span class=no>ds</span><span class=p>,</span> <span class=no>ax</span>
</span></span><span class=line><span class=cl>    <span class=nf>jmp</span> <span class=no>$</span>  <span class=c1>; 死循环
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nf>times</span> <span class=mi>510</span><span class=p>-(</span><span class=no>$-$$</span><span class=p>)</span> <span class=no>db</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=nf>dw</span> <span class=mi>0xAA55</span>  <span class=err>;</span> <span class=err>魔数</span></span></span></code></pre></div><p>阶段2：最小内核（盖市政大厅）</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">c</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-25 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=c1>// 实现内存分页（土地规划）
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>init_paging</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=mi>1024</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>page_directory</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=nf>alloc_page</span><span class=p>()</span> <span class=o>|</span> <span class=mh>0x3</span><span class=p>;</span> <span class=c1>// 标记为可读写
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>阶段3：POSIX兼容层（铺设标准道路）</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">c</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-26 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=c1>// 伪代码：实现open系统调用
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=nf>sys_open</span><span class=p>(</span><span class=kt>char</span> <span class=o>*</span><span class=n>path</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nf>check_permission</span><span class=p>(</span><span class=n>path</span><span class=p>))</span> <span class=k>return</span> <span class=o>-</span><span class=n>EPERM</span><span class=p>;</span> <span class=c1>// 权限检查
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=nf>vfs_lookup</span><span class=p>(</span><span class=n>path</span><span class=p>);</span> <span class=c1>// 虚拟文件系统查询
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span></span></span></code></pre></div><p>阶段4：生态建设（招商引资）</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-27 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=c1># 移植BusyBox（迷你工具集）</span>
</span></span><span class=line><span class=cl>./configure --prefix<span class=o>=</span>/ --host<span class=o>=</span>your_os-arch
</span></span><span class=line><span class=cl>make install</span></span></code></pre></div><hr><p>五、关键决策建议</p><ol><li><p><strong>网络协议栈</strong>：</p><ul><li>✅ 移植<a href=https://savannah.nongnu.org/projects/lwip/ target=_blank rel="noopener noreferrer">LwIP</a>（轻量级TCP/IP栈）</li><li>❌ 不要从零写（相当于自建自来水厂，容易出安全问题）</li></ul></li><li><p><strong>包管理系统</strong>：</p><ul><li>简单方案：直接兼容<code>.deb</code>或<code>.rpm</code>格式</li><li>高级方案：设计类似<a href=https://ostreedev.github.io/ostree/ target=_blank rel="noopener noreferrer">OSTree</a>的原子更新机制</li></ul></li><li><p><strong>开发捷径</strong>：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-28 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=c1># 用现成组件快速搭建</span>
</span></span><span class=line><span class=cl>git clone https://github.com/linux-on-litex-vexriscv/linux-on-litex-vexriscv
</span></span><span class=line><span class=cl><span class=c1># 修改为你的架构支持</span></span></span></code></pre></div></li></ol><hr><p>六、生动总结</p><p>开发操作系统就像：</p><ul><li><strong>内核</strong>是市政府：管理核心资源但低调</li><li><strong>POSIX</strong>是国标GB：保证全国电器能插你城市的插座</li><li><strong>包管理</strong>是外卖平台：决定软件是预制菜（二进制）还是现炒（源码编译）</li></ul><p>建议路线：</p><ol><li>先实现能启动+打印<code>Hello World</code></li><li>加入进程管理和文件系统</li><li><strong>最后</strong>才考虑POSIX兼容性测试</li><li>关键子系统用成熟开源代码（就像城市直接采购电网设备）</li></ol><p>记住：Linux花了30年才完善，你的OS可以先用「方言」跑起来，再慢慢学「普通话」（POSIX）！</p><h4 id=操作系统构建系统和包管理工具的关系 class=headerLink><a href=#%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f%e6%9e%84%e5%bb%ba%e7%b3%bb%e7%bb%9f%e5%92%8c%e5%8c%85%e7%ae%a1%e7%90%86%e5%b7%a5%e5%85%b7%e7%9a%84%e5%85%b3%e7%b3%bb class=header-mark></a>5.2.4 操作系统，构建系统和包管理工具的关系</h4><p>BSD/Arch操作系统，Ports软件/Arch构建系统，包管理工具（如dpkg，pacman）之间又是什么关系？又如何利用构建系统来进行包管理的呢？</p><p>我们根据前文Ports软件的定义，可以了解到Ports是一个用于安装和编译软件的系统。它类似于Linux 中的包管理器（如apt 或yum），但它允许用户从源代码构建软件，并提供更大的灵活性。Arch Linux中的ABS编译系统就是对一种Ports软件在Arch操作系统下的变种。</p><p>我们再来看<a href=https://wiki.archlinuxcn.org/wiki/Arch_%E6%9E%84%E5%BB%BA%E7%B3%BB%E7%BB%9F target=_blank rel="noopener noreferrer">Arch 构建系统 - Arch Linux 中文维基</a>文档，其中有如下一段话：</p><blockquote><p>ABS（Arch Build System）是一套<strong>从源码构建并打包</strong>软件包的系统。在 Arch 中，<a href=https://wiki.archlinuxcn.org/wiki/Pacman title=Pacman target=_blank rel="noopener noreferrer">pacman</a> 专门<strong>管理二进制软件包</strong>（包括那些由 ABS 创建的）；而 ABS 则是<strong>一系列工具</strong>，负责把<strong>源代码编译成可安装的 <em>.pkg.tar.zst</em> 软件包</strong>。</p></blockquote><p>这句话说的非常清楚了，pacman只是管理二进制软件包的，而ABS是那个把源码转换为二进制软件包的工具。</p><p>下面两段把ABS和Ports的关系说的非常清楚了：</p><blockquote><p><em>Ports</em> 是 *BSD 使用的一种系统，可以自动<strong>下载源代码、解压缩、打补丁、编译和安装软件</strong>。<strong>一个"port"仅仅是指用户电脑上的一个目录，该目录根据即将安装的软件来命名，它包含一些能指导源码的下载和编译安装的文件</strong>。Ports 系统让你只需在 port 目录下运行 <code>make</code> 或 <code>make install clean</code> 就能安装你想要的软件。</p><p>ABS 的概念与 Ports 相似。它由为每个 Arch Linux 可用软件包提供的 <strong>git 仓库组成</strong>。每个目录中<strong>并不包含二进制包或源代码，而是包含一个 <a href=https://wiki.archlinuxcn.org/wiki/PKGBUILD title=PKGBUILD target=_blank rel="noopener noreferrer">PKGBUILD</a> 文件</strong>（有时也会有其它文件）。在有 <code>PKGBUILD</code> 文件的目录里运行 <a href=https://wiki.archlinuxcn.org/wiki/Makepkg title=Makepkg target=_blank rel="noopener noreferrer">makepkg</a> 命令，系统就会在目录中下载软件的源代码、编译并打包在构建文件夹里。然后就可以通过 <a href=https://wiki.archlinuxcn.org/wiki/Pacman title=Pacman target=_blank rel="noopener noreferrer">pacman</a> 进行安装或升级了。</p></blockquote><p>所以在BSD操作系统下，一个软件安装目录准确来说是叫port，里面包含一些Makefile和patch。而操作系统中的Ports系统，可以通过这个port中的makefile和patch，来进行软件的各种管理。</p><p>而ABS构建系统由一系列Git仓库组成，每个仓库对应一个Arch Linux软件包（也就是每个软件包都对应一个对立的Git仓库）。这些仓库中包含的是用来构建软件包的<code>PKGBUILD</code>文件，而不是直接的二进制包或源代码。每个目录有一个<code>PKGBUILD</code>文件，它描述了如何获取软件的源代码、编译它、以及最终打包成Arch Linux的软件包。在其中运行<code>makepkg</code>命令，进行软件包的构建，然后<code>pacman</code>就会来管理这个二进制软件包。当你使用<code>pacman</code>命令安装软件包时，<code>pacman</code>会从Git仓库中获取<code>PKGBUILD</code>文件，然后使用<code>makepkg</code>命令根据这个文件来构建软件包。这种方式的好处在于，用户可以修改<code>PKGBUILD</code>文件来适应自己的需求，比如更改版本，添加依赖，或者修改编译选项。此外，<code>PKGBUILD</code>文件也便于对软件包进行贡献和维护。</p><h4 id=arch官方软件仓库--aur用户软件仓库 class=headerLink><a href=#arch%e5%ae%98%e6%96%b9%e8%bd%af%e4%bb%b6%e4%bb%93%e5%ba%93--aur%e7%94%a8%e6%88%b7%e8%bd%af%e4%bb%b6%e4%bb%93%e5%ba%93 class=header-mark></a>5.2.5 Arch官方软件仓库 & AUR用户软件仓库</h4><p>而问题又来了，BSD中是直接通过Ports软件系统在port中进行软件包的构建。但是ABS由一些列Git仓库构成，每个仓库对应一个Arch Linux软件包。ABS是怎么知道软件包的仓库在哪？这个Git仓库是github中的开放仓库吗？如果我们想要让ABS中也有我们的软件包的Git仓库，我们应该如何把这个Git仓库添加到ABS中去呢？</p><h5 id=简明区别 class=headerLink><a href=#%e7%ae%80%e6%98%8e%e5%8c%ba%e5%88%ab class=header-mark></a>5.2.5.1 简明区别</h5><p>抱着疑惑，我再次查找了资料，发现了两个仓库，一个是Arch官方软件仓库，一个是AUR用户软件仓库。那么其区别是什么呢？通过搜索<a href="https://www.google.com/search?q=Arch%E5%AE%98%E6%96%B9%E8%BD%AF%E4%BB%B6%E4%BB%93%E5%BA%93%E5%92%8CAUR&amp;oq=Arch%E5%AE%98%E6%96%B9%E8%BD%AF%E4%BB%B6%E4%BB%93%E5%BA%93%E5%92%8CAUR&amp;gs_lcrp=EgRlZGdlKgYIABBFGDkyBggAEEUYOTIKCAEQABiABBiiBDIHCAIQABjvBTIHCAMQABjvBdIBCDU0NTRqMGoxqAIAsAIA&amp;sourceid=chrome&amp;ie=UTF-8" target=_blank rel="noopener noreferrer">Arch官方软件仓库和AUR - Google 搜索</a>，AI给出以下简要答案：</p><p>Arch 官方软件仓库和Arch 用户仓库(AUR) 是<strong>Arch Linux 两个关键的软件来源</strong>。官方仓库是<strong>Arch Linux 官方维护</strong>的，包含<strong>经过测试和审核</strong>的软件包，而AUR 是<strong>用户社区贡献的</strong>，允许<strong>用户分享自定义的打包脚本(PKGBUILD) 并从源代码构建软件包</strong>。</p><p>Arch 官方软件仓库：</p><ul><li>**由Arch Linux 官方维护:**官方仓库包含经过测试和审核的软件包，确保稳定性和安全性。</li><li>**官方支持:**官方提供对官方仓库软件包的支持。</li><li>**最基本的软件包:**官方仓库包含Arch Linux 系统所需的最小软件包。</li><li>使用 <code>pacman</code> 安装:官方软件包可以通过 <code>pacman</code> 软件包管理器直接安装。﻿</li></ul><p>Arch 用户仓库(AUR)：</p><ul><li><strong>由用户社区维护:</strong>
AUR 允许用户分享PKGBUILD 脚本，这些脚本描述如何从源代码构建软件包。</li><li><strong>用户贡献:</strong>
AUR 中的软件包由用户提供和维护，而不是Arch Linux 官方。</li><li><strong>更广泛的软件选择:</strong>
AUR 提供比官方仓库更广泛的软件包选择，包括用户自定义的软件包和较新的软件包。</li><li>需要 <code>makepkg</code> 构建:
用户需要使用 <code>makepkg</code> 工具从AUR 中构建软件包，然后使用 <code>pacman</code> 安装。</li><li><strong>不保证安全性:</strong>
由于AUR 软件包由用户维护，因此不保证安全性。</li><li><strong>通过投票机制:</strong>
AUR 允许用户对软件包进行投票，以帮助区分高质量的软件包。</li><li><strong>可能进入官方仓库:</strong>
热门的AUR 软件包可以通过投票和审核过程进入Arch Linux 官方仓库。</li></ul><p>总结：</p><ul><li><strong>官方仓库是Arch Linux 官方提供的软件包来源，确保稳定和安全。</strong></li><li><strong>AUR 是用户社区提供的软件包来源，提供更广泛的软件选择。</strong></li><li><strong>用户可以根据需求选择从哪个仓库安装软件包。</strong></li></ul><p>例如：</p><ul><li>在Arch Linux 中安装Firefox：你可以从官方仓库使用 <code>pacman</code> 直接安装Firefox。</li><li>在Arch Linux 中安装一个特定的Firefox 主题：你可能需要在AUR 中找到该主题的PKGBUILD 脚本，然后使用 <code>makepkg</code> 构建并安装。</li></ul><h5 id=官方仓库 class=headerLink><a href=#%e5%ae%98%e6%96%b9%e4%bb%93%e5%ba%93 class=header-mark></a>5.2.5.2 官方仓库</h5><p>要了解官方仓库，我们同样查阅<a href=https://wiki.archlinuxcn.org/wiki/%E5%AE%98%E6%96%B9%E4%BB%93%E5%BA%93#%E7%A8%B3%E5%AE%9A%E4%BB%93%E5%BA%93 target=_blank rel="noopener noreferrer">官方仓库 - Arch Linux 中文维基</a>文档，发现如下内容：</p><blockquote><p><a href=https://en.wikipedia.org/wiki/software_repository title="wikipedia:software repository" target=_blank rel="noopener noreferrer">软件仓库</a>是获取软件包的地方。</p><p>Arch Linux <strong>官方软件仓库</strong>包含着基础的和较为流行的软件。他们可通过<a href=https://wiki.archlinuxcn.org/wiki/Pacman title=Pacman target=_blank rel="noopener noreferrer">Pacman</a>便捷的获取。软件包由<a href=https://wiki.archlinuxcn.org/wiki/Arch_terminology#%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%BB%B4%E6%8A%A4%E8%80%85 title="Arch terminology" target=_blank rel="noopener noreferrer">软件包维护者</a>维护。</p><p>官方软件仓库中的软件包会持续更新，即老版本将被新版本所替代。Arch 没有主版本的概念：每个软件在上游有新版本时单独更新。每一个软件仓库都是互相联系的，即，软件仓库中的所有软件都是相互兼容的。</p></blockquote><p>我们在用<code>pacman -S vim</code>进行<code>vim</code>的安装时，曾经遇到过如下警告：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-29 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl>warning: database file <span class=k>for</span> <span class=s1>&#39;core&#39;</span> does not exist <span class=o>(</span>use <span class=s1>&#39;-Sy&#39;</span> to download<span class=o>)</span>
</span></span><span class=line><span class=cl>warning: database file <span class=k>for</span> <span class=s1>&#39;extra&#39;</span> does not exist <span class=o>(</span>use <span class=s1>&#39;-Sy&#39;</span> to download<span class=o>)</span></span></span></code></pre></div><p>根据文档，<code>core</code>和<code>extra</code>是Arch官方仓库中的稳定仓库。它们位于仓库镜像中。除此以外还有<code>multilib</code>仓库。</p><p>Arch官方仓库中还有<code>testing</code>仓库，<em>testing</em> 仓库的目的是提供一个即将被放入主软件仓库的软件包的集散地。软件包维护者（和普通用户）可以访问并测试这些软件包以确保软件包没有问题。当位于 <em>testing</em> 仓库的软件包被测试无问题后，即可被移入主仓库。</p><h5 id=aur用户软件仓库 class=headerLink><a href=#aur%e7%94%a8%e6%88%b7%e8%bd%af%e4%bb%b6%e4%bb%93%e5%ba%93 class=header-mark></a>5.2.5.3 AUR用户软件仓库</h5><h4 id=镜像源 class=headerLink><a href=#%e9%95%9c%e5%83%8f%e6%ba%90 class=header-mark></a>5.2.6 镜像源</h4><p>前面我们提到，Arch官方仓库中的稳定仓库位于仓库镜像中，那么什么是仓库镜像呢？通过搜索<a href="https://www.google.com/search?q=%E4%BB%80%E4%B9%88%E6%98%AF%E9%95%9C%E5%83%8F%E6%BA%90&amp;oq=%E4%BB%80%E4%B9%88%E6%98%AF%E9%95%9C%E5%83%8F%E6%BA%90&amp;gs_lcrp=EgRlZGdlKgYIABBFGDkyBggAEEUYOdIBCDQyMTJqMGoxqAIAsAIA&amp;sourceid=chrome&amp;ie=UTF-8" target=_blank rel="noopener noreferrer">什么是镜像源 - Google 搜索</a>，我们得到了如下AI解答：</p><blockquote><p>镜像源（mirror source）是指<strong>提供与原始内容（例如软件、网站、软件包）相同内容的网络服务</strong>，可以理解为对原始内容的副本。它通常被用来提升访问速度，尤其是在原始服务器访问速度慢或者不稳定时，比如用于加速下载软件、软件包或网站内容。
具体来说，镜像源可以应用于以下场景：﻿</p><ul><li><strong>软件下载:</strong></li></ul><p>很多软件下载网站都有多个镜像源，你可以从距离你更近或者网络速度更好的镜像源下载，从而提高下载速度。</p><ul><li><strong>网站访问:</strong></li></ul><p>网站镜像是指对网站内容的拷贝，通过在不同的服务器上部署多个镜像，可以缓解服务器压力，提高访问速度和稳定性。</p><ul><li><strong>操作系统镜像:</strong></li></ul><p>服务器镜像源通常包含服务器操作系统的安装镜像文件和相关软件包。</p><ul><li><strong>Docker 镜像:</strong></li></ul><p>Docker 镜像源是一个用于存储和分发Docker 镜像的网络服务，可以提高镜像的下载速度。</p><ul><li><strong>Python 镜像:</strong></li></ul><p>Python 镜像源是PyPI 的一个镜像，可以加快Python 软件包的下载速度。</p><p>总而言之，镜像源就是通过提供与原始内容相同的副本，来提高用户获取内容的效率和速度，尤其是在网络条件不好时。</p></blockquote><h4 id=arch-构建系统 class=headerLink><a href=#arch-%e6%9e%84%e5%bb%ba%e7%b3%bb%e7%bb%9f class=header-mark></a>5.2.7 Arch 构建系统</h4><p>那么现在我们了解了Arch操作系统和Ports软件的关系，知道了ABS(Arch Build System)，下面我们详细了解一些ABS的细节，及如何通过ABS来进行软件包的创建。</p><h4 id=helloworld软件包的创建安装和卸载 class=headerLink><a href=#helloworld%e8%bd%af%e4%bb%b6%e5%8c%85%e7%9a%84%e5%88%9b%e5%bb%ba%e5%ae%89%e8%a3%85%e5%92%8c%e5%8d%b8%e8%bd%bd class=header-mark></a>5.2.8 HelloWorld软件包的创建、安装和卸载</h4><h3 id=pacman class=headerLink><a href=#pacman class=header-mark></a>5.3 Pacman</h3><h2 id=命令高亮 class=headerLink><a href=#%e5%91%bd%e4%bb%a4%e9%ab%98%e4%ba%ae class=header-mark></a>6 命令高亮</h2><div class="details admonition warning open"><div class="details-summary admonition-title"><span class=icon><svg class="icon" viewBox="0 0 576 512"><path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937.0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154.0l239.94 416.028zM288 354c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></svg></span>Warning<span class=details-icon><svg class="icon" viewBox="0 0 256 512"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9.0l-22.6-22.6c-9.4-9.4-9.4-24.6.0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6.0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9.0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg></span></div><div class=details-content><div class=admonition-content><p>以下内容使用deepseek生成。</p></div></div></div><p>在 <strong>Windows 终端（Windows Terminal）</strong> 中实现 <strong>Bash 命令、Git 命令高亮</strong>，可以通过以下方法配置（无需安装完整 Oh My Zsh，仅用 <code>.bashrc</code> 和工具增强）：</p><h3 id=启用-bash-命令语法高亮 class=headerLink><a href=#%e5%90%af%e7%94%a8-bash-%e5%91%bd%e4%bb%a4%e8%af%ad%e6%b3%95%e9%ab%98%e4%ba%ae class=header-mark></a>6.1 启用 Bash 命令语法高亮</h3><h4 id=方法-1使用bash-syntax-highlighting class=headerLink><a href=#%e6%96%b9%e6%b3%95-1%e4%bd%bf%e7%94%a8bash-syntax-highlighting class=header-mark></a>6.1.1 方法 1：使用 <code>bash-syntax-highlighting</code></h4><p>安装插件（适用于 WSL 的 Arch Linux）：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-30 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=c1># 克隆仓库到本地</span>
</span></span><span class=line><span class=cl>git clone https://github.com/akinomyoga/ble.sh.git ~/.blesh
</span></span><span class=line><span class=cl><span class=c1># 编译安装</span>
</span></span><span class=line><span class=cl>make -C ~/.blesh install</span></span></code></pre></div><p>在 <code>~/.bashrc</code> 中添加：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-31 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=c1># 启用 ble.sh 实时语法高亮</span>
</span></span><span class=line><span class=cl><span class=nb>source</span> ~/.blesh/ble.sh</span></span></code></pre></div><ul><li><strong>效果</strong>：输入命令时实时高亮（正确绿色，错误红色）。</li></ul><h4 id=方法-2使用highlight工具 class=headerLink><a href=#%e6%96%b9%e6%b3%95-2%e4%bd%bf%e7%94%a8highlight%e5%b7%a5%e5%85%b7 class=header-mark></a>6.1.2 方法 2：使用 <code>highlight</code> 工具</h4><p>安装 <code>highlight</code>：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-32 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl>sudo pacman -S highlight</span></span></code></pre></div><p>在 <code>~/.bashrc</code> 中添加别名：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-33 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>cat</span><span class=o>=</span><span class=s1>&#39;highlight -O ansi --force&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>less</span><span class=o>=</span><span class=s1>&#39;less -R&#39;</span></span></span></code></pre></div><p>效果：<code>cat</code> 文件时自动高亮语法。</p><h3 id=git-命令高亮 class=headerLink><a href=#git-%e5%91%bd%e4%bb%a4%e9%ab%98%e4%ba%ae class=header-mark></a>6.2 Git 命令高亮</h3><h4 id=方法-1git-原生颜色配置 class=headerLink><a href=#%e6%96%b9%e6%b3%95-1git-%e5%8e%9f%e7%94%9f%e9%a2%9c%e8%89%b2%e9%85%8d%e7%bd%ae class=header-mark></a>6.2.1 方法 1：Git 原生颜色配置</h4><ol><li>启用 Git 默认高亮：</li></ol><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-34 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl>git config --global color.ui auto</span></span></code></pre></div><ul><li><strong>效果</strong>：<code>git status</code>、<code>git diff</code> 等命令输出彩色。</li></ul><h4 id=方法-2增强-git-提示符显示分支状态 class=headerLink><a href=#%e6%96%b9%e6%b3%95-2%e5%a2%9e%e5%bc%ba-git-%e6%8f%90%e7%a4%ba%e7%ac%a6%e6%98%be%e7%a4%ba%e5%88%86%e6%94%af%e7%8a%b6%e6%80%81 class=header-mark></a>6.2.2 方法 2：增强 Git 提示符（显示分支/状态）</h4><p>在 <code>~/.bashrc</code> 中添加：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-35 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=c1># 加载 Git 提示符功能（需 git-prompt）</span>
</span></span><span class=line><span class=cl><span class=nb>source</span> /usr/share/git/completion/git-prompt.sh
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>GIT_PS1_SHOWDIRTYSTATE</span><span class=o>=</span><span class=m>1</span>      <span class=c1># 显示未暂存(*)和已暂存(+)更改</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>GIT_PS1_SHOWUNTRACKEDFILES</span><span class=o>=</span><span class=m>1</span>  <span class=c1># 显示未跟踪文件(%)</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>GIT_PS1_SHOWUPSTREAM</span><span class=o>=</span><span class=s2>&#34;auto&#34;</span>   <span class=c1># 显示与上游的差异</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 将 Git 信息添加到 PS1</span>
</span></span><span class=line><span class=cl><span class=nv>PS1</span><span class=o>=</span><span class=s1>&#39;\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]$(__git_ps1 &#34; (%s)&#34;)\$ &#39;</span></span></span></code></pre></div><p><strong>效果</strong>：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-36 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl>user@host:~/project <span class=o>(</span>main *+$<span class=o>)</span>%</span></span></code></pre></div><ul><li><code>*</code>：未暂存更改</li><li><code>+</code>：已暂存更改</li><li><code>%</code>：未跟踪文件</li><li><code>$</code>：落后于上游分支</li></ul><h3 id=文件列表高亮ls命令 class=headerLink><a href=#%e6%96%87%e4%bb%b6%e5%88%97%e8%a1%a8%e9%ab%98%e4%ba%aels%e5%91%bd%e4%bb%a4 class=header-mark></a>6.3 文件列表高亮（<code>ls</code> 命令）</h3><p>安装 <code>lsd</code>（替代 <code>ls</code> 的现代化工具）：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-37 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl>sudo pacman -S lsd</span></span></code></pre></div><p>在 <code>~/.bashrc</code> 中添加别名：</p><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-38 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>ls</span><span class=o>=</span><span class=s1>&#39;lsd --color=auto&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>ll</span><span class=o>=</span><span class=s1>&#39;lsd -l --color=auto&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>la</span><span class=o>=</span><span class=s1>&#39;lsd -a --color=auto&#39;</span></span></span></code></pre></div><p><strong>效果</strong>：
<img class=tw-inline loading=lazy src=/screen_lsd_7645286544532813652.png srcset="/screen_lsd_7645286544532813652_hu_a1f3baee40c2afe8.webp 800w, /screen_lsd_7645286544532813652_hu_d0e58ca9616988d.webp 1200w, /screen_lsd_7645286544532813652_hu_57fc9e2977cbc02.webp 1600w" alt="lsd 高亮效果" height=188 width=812></p><h3 id=终端主题优化windows-终端配置 class=headerLink><a href=#%e7%bb%88%e7%ab%af%e4%b8%bb%e9%a2%98%e4%bc%98%e5%8c%96windows-%e7%bb%88%e7%ab%af%e9%85%8d%e7%bd%ae class=header-mark></a>6.4 终端主题优化（Windows 终端配置）</h3><ol><li>打开 Windows 终端的 <code>settings.json</code>（<code>Ctrl + ,</code> → 打开 JSON 文件）。</li><li>修改 Arch Linux 的配置段，添加：</li></ol><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">json</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-39 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Arch Linux&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;colorScheme&#34;</span><span class=p>:</span> <span class=s2>&#34;One Half Dark&#34;</span><span class=p>,</span>  <span class=c1>// 深色主题
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;fontFace&#34;</span><span class=p>:</span> <span class=s2>&#34;Cascadia Code PL&#34;</span><span class=p>,</span> <span class=c1>// 等宽字体
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;fontSize&#34;</span><span class=p>:</span> <span class=mi>11</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;useAcrylic&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>            <span class=c1>// 毛玻璃效果
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nt>&#34;acrylicOpacity&#34;</span><span class=p>:</span> <span class=mf>0.8</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><ul><li><strong>推荐主题</strong>：<code>Dracula</code>、<code>Solarized Dark</code>、<code>Gruvbox</code>。</li></ul><h3 id=最终效果 class=headerLink><a href=#%e6%9c%80%e7%bb%88%e6%95%88%e6%9e%9c class=header-mark></a>6.5 最终效果</h3><div class=table-wrapper><table><thead><tr><th style=text-align:>功能</th><th style=text-align:>效果</th></tr></thead><tbody><tr><td style=text-align:><strong>Bash 命令高亮</strong></td><td style=text-align:>输入时实时红/绿高亮</td></tr><tr><td style=text-align:><strong>Git 高亮</strong></td><td style=text-align:><code>git status</code> 彩色 + 分支状态提示</td></tr><tr><td style=text-align:><strong>文件列表高亮</strong></td><td style=text-align:><code>ls</code> 显示图标和颜色</td></tr><tr><td style=text-align:><strong>终端主题</strong></td><td style=text-align:>深色背景 + 等宽字体</td></tr></tbody></table></div><h3 id=一键配置脚本 class=headerLink><a href=#%e4%b8%80%e9%94%ae%e9%85%8d%e7%bd%ae%e8%84%9a%e6%9c%ac class=header-mark></a>6.6 <strong>一键配置脚本</strong></h3><p>将以下内容粘贴到 <code>~/.bashrc</code> 后运行 <code>source ~/.bashrc</code>：</p><div class="code-block highlight is-closed show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-40 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=c1># 语法高亮（ble.sh）</span>
</span></span><span class=line><span class=cl><span class=nb>source</span> ~/.blesh/ble.sh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Git 提示符</span>
</span></span><span class=line><span class=cl><span class=nb>source</span> /usr/share/git/completion/git-prompt.sh
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>GIT_PS1_SHOWDIRTYSTATE</span><span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>GIT_PS1_SHOWUNTRACKEDFILES</span><span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PS1</span><span class=o>=</span><span class=s1>&#39;\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]$(__git_ps1 &#34; (%s)&#34;)\$ &#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># lsd 替代 ls</span>
</span></span><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>ls</span><span class=o>=</span><span class=s1>&#39;lsd --color=auto&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>ll</span><span class=o>=</span><span class=s1>&#39;lsd -l --color=auto&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>la</span><span class=o>=</span><span class=s1>&#39;lsd -a --color=auto&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Git 默认高亮</span>
</span></span><span class=line><span class=cl>git config --global color.ui auto</span></span></code></pre></div><h3 id=注意事项 class=headerLink><a href=#%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9 class=header-mark></a>6.7 <strong>注意事项</strong></h3><ul><li><strong>WSL 2 兼容性</strong>：所有工具均适用于 Arch Linux on WSL。</li><li><strong>字体支持</strong>：确保 Windows 终端使用 <a href=https://github.com/ryanoasis/nerd-fonts target=_blank rel="noopener noreferrer">Powerline 字体</a>（如 <code>Cascadia Code PL</code>）。</li><li><strong>性能问题</strong>：若 <code>ble.sh</code> 卡顿，可改用 <code>syntax-highlighting</code> 轻量版：</li></ul><div class="code-block highlight is-open show-line-numbers tw-group tw-my-2"><div class="tw-flex
tw-flex-row
tw-flex-1
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="code-block-button
tw-mx-2
tw-flex
tw-flex-row
tw-flex-1" aria-hidden=true><div class="group-[.is-open]:tw-rotate-90 tw-transition-[transform] tw-duration-500 tw-ease-in-out print:!tw-hidden tw-w-min tw-h-min tw-my-1 tw-mx-1"><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></div><p class="tw-select-none !tw-my-1">bash</p></button><div class=tw-flex><button class="line-number-button
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-41 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl>git clone https://github.com/arzzen/git-prompt.git ~/.git-prompt
</span></span><span class=line><span class=cl><span class=nb>source</span> ~/.git-prompt/git-prompt.sh</span></span></code></pre></div><p>完成后，你的 Windows 终端将拥有接近 Oh My Zsh 的高亮体验！ 🎨</p><h2 id=再探用户管理 class=headerLink><a href=#%e5%86%8d%e6%8e%a2%e7%94%a8%e6%88%b7%e7%ae%a1%e7%90%86 class=header-mark></a>7 再探用户管理</h2></div><h2>相关内容</h2><div class=related-container><div class=related-item-container><h2 class=related-title><a href=/vmware/>VMWare下的Arch Linux安装过程记录</a></h2></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2025-06-06</span></div><div class=post-info-license></div></div><div class="post-info-line print:!tw-hidden"><div class=post-info-md><span><a class=link-to-mardown href=/arch-linux%E6%8E%A2%E7%B4%A2%E8%AE%B0%E5%BD%95/index.md target=_blank rel="noopener noreferrer">阅读原始文档</a>
</span><span>|&nbsp;<a class=link-to-source href=https://github.com/HEIGE-PCloud/DoIt/blob/main/exampleSite/content/posts/cs/tool/Linux/Arch/Arch linux探索记录.md target=_blank rel="noopener noreferrer">查看源代码</a>
</span><span>|&nbsp;<a class=link-to-edit href=https://github.com/HEIGE-PCloud/DoIt/edit/main/exampleSite/content/posts/cs/tool/Linux/Arch/Arch linux探索记录.md target=_blank rel="noopener noreferrer">编辑此页</a>
</span><span>|&nbsp;<a class=link-to-report href="https://github.com/HEIGE-PCloud/DoIt/issues/new?title=[bug]%20Arch+Linux%E6%8E%A2%E7%B4%A2%E8%AE%B0%E5%BD%95&body=|Field|Value|%0A|-|-|%0A|Title|Arch+Linux%E6%8E%A2%E7%B4%A2%E8%AE%B0%E5%BD%95|%0A|Url|https://salvely.github.io/arch-linux%E6%8E%A2%E7%B4%A2%E8%AE%B0%E5%BD%95/|%0A|Filename|https://github.com/HEIGE-PCloud/DoIt/blob/main/exampleSite/content/posts/cs/tool/Linux/Arch/Arch" linux探索记录.md| target=_blank rel="noopener noreferrer">报告问题</a></span></div><div class=post-info-share><button title="分享到 Twitter" data-sharer=twitter data-url=https://salvely.github.io/arch-linux%E6%8E%A2%E7%B4%A2%E8%AE%B0%E5%BD%95/ data-title="Arch Linux探索记录" data-hashtags=标签><svg class="icon" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></button><button title="分享到 Facebook" data-sharer=facebook data-url=https://salvely.github.io/arch-linux%E6%8E%A2%E7%B4%A2%E8%AE%B0%E5%BD%95/ data-hashtag=标签><svg class="icon" viewBox="0 0 512 512"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14.0 55.52 4.84 55.52 4.84v61h-31.28c-30.8.0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg></button><button title="分享到 Hacker News" data-sharer=hackernews data-url=https://salvely.github.io/arch-linux%E6%8E%A2%E7%B4%A2%E8%AE%B0%E5%BD%95/ data-title="Arch Linux探索记录"><svg class="icon" viewBox="0 0 448 512"><path d="M0 32v448h448V32H0zm21.2 197.2H21c.1-.1.2-.3.3-.4.0.1.0.3-.1.4zm218 53.9V384h-31.4V281.3L128 128h37.3c52.5 98.3 49.2 101.2 59.3 125.6 12.3-27 5.8-24.4 60.6-125.6H320l-80.8 155.1z"/></svg></button><button title="分享到 Line" data-sharer=line data-url=https://salvely.github.io/arch-linux%E6%8E%A2%E7%B4%A2%E8%AE%B0%E5%BD%95/ data-title="Arch Linux探索记录"><svg class="icon" role="img" viewBox="0 0 24 24"><title>LINE</title><path d="M19.365 9.863c.349.0.63.285.63.631.0.345-.281.63-.63.63H17.61v1.125h1.755c.349.0.63.283.63.63.0.344-.281.629-.63.629h-2.386c-.345.0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.346.0.627.285.627.63.0.349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211.0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346.0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195.0.375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345.0.63.285.63.63v4.771zm-5.741.0c0 .344-.282.629-.631.629-.345.0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346.0.628.285.628.63v4.771zm-2.466.629H4.917c-.345.0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348.0.63.285.63.63v4.141h1.756c.348.0.629.283.629.63.0.344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943.0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"/></svg></button><button title="分享到 微博" data-sharer=weibo data-url=https://salvely.github.io/arch-linux%E6%8E%A2%E7%B4%A2%E8%AE%B0%E5%BD%95/ data-title="Arch Linux探索记录"><svg class="icon" viewBox="0 0 512 512"><path d="M407 177.6c7.6-24-13.4-46.8-37.4-41.7-22 4.8-28.8-28.1-7.1-32.8 50.1-10.9 92.3 37.1 76.5 84.8-6.8 21.2-38.8 10.8-32-10.3zM214.8 446.7C108.5 446.7.0 395.3.0 310.4c0-44.3 28-95.4 76.3-143.7C176 67 279.5 65.8 249.9 161c-4 13.1 12.3 5.7 12.3 6 79.5-33.6 140.5-16.8 114 51.4-3.7 9.4 1.1 10.9 8.3 13.1 135.7 42.3 34.8 215.2-169.7 215.2zm143.7-146.3c-5.4-55.7-78.5-94-163.4-85.7-84.8 8.6-148.8 60.3-143.4 116s78.5 94 163.4 85.7c84.8-8.6 148.8-60.3 143.4-116zM347.9 35.1c-25.9 5.6-16.8 43.7 8.3 38.3 72.3-15.2 134.8 52.8 111.7 124-7.4 24.2 29.1 37 37.4 12 31.9-99.8-55.1-195.9-157.4-174.3zm-78.5 311c-17.1 38.8-66.8 60-109.1 46.3-40.8-13.1-58-53.4-40.3-89.7 17.7-35.4 63.1-55.4 103.4-45.1 42 10.8 63.1 50.2 46 88.5zm-86.3-30c-12.9-5.4-30 .3-38 12.9-8.3 12.9-4.3 28 8.6 34 13.1 6 30.8.3 39.1-12.9 8-13.1 3.7-28.3-9.7-34zm32.6-13.4c-5.1-1.7-11.4.6-14.3 5.4-2.9 5.1-1.4 10.6 3.7 12.9 5.1 2 11.7-.3 14.6-5.4 2.8-5.2 1.1-10.9-4-12.9z"/></svg></button><button title="分享到 Telegram" data-sharer=telegram data-url=https://salvely.github.io/arch-linux%E6%8E%A2%E7%B4%A2%E8%AE%B0%E5%BD%95/ data-title="Arch Linux探索记录" data-web><svg class="icon" viewBox="0 0 448 512"><path d="M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"/></svg></button><script>function shareOnMastodon(e,t){const o="share_mastodon_domain",i=localStorage.getItem(o)??"mastodon.social",n=prompt("Enter your Mastodon domain",i);if(n===null)return;localStorage.setItem(o,n);const a=e+`

`+t,s=new URL("https://"+n);s.pathname="share",s.searchParams.append("text",a),window.open(s,"_blank","width=500,height=500,left=500,toolbar=0,status=0")}</script>
<button title="分享到 Mastodon" onclick='shareOnMastodon("Arch Linux探索记录","https://salvely.github.io/arch-linux%E6%8E%A2%E7%B4%A2%E8%AE%B0%E5%BD%95/")'><svg class="icon" viewBox="0 0 448 512"><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48.0.0.0-63.72 28.5-63.72 125.7.0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54.0 01-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg></button></div></div></div><div class=post-info-more><section class=post-tags><svg class="icon" viewBox="0 0 640 512"><path d="M497.941 225.941 286.059 14.059A48 48 0 00252.118.0H48C21.49.0.0 21.49.0 48v204.118a48 48 0 0014.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882.0l204.118-204.118c18.745-18.745 18.745-49.137.0-67.882zM112 160c-26.51.0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882.0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397.0h48.721a48 48 0 0133.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137.0 67.882z"/></svg>&nbsp;<a href=/tags/%E6%A0%87%E7%AD%BE/>标签</a></section><section class=print:!tw-hidden><span><button class="tw-text-fgColor-link-muted hover:tw-text-fgColor-link-muted-hover" onclick=window.history.back()>返回</button></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class="post-nav print:tw-hidden"><a href=/wsl2%E4%B8%8A%E7%9A%84arch-linux%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B%E8%AE%B0%E5%BD%95/ class=prev rel=prev title="WSL2上的Arch Linux安装过程记录"><svg class="icon" viewBox="0 0 256 512"><path d="M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9.0l22.6 22.6c9.4 9.4 9.4 24.6.0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6.0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9.0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"/></svg>WSL2上的Arch Linux安装过程记录</a></div></div><div id=comments class="print:!tw-hidden tw-pt-32 tw-pb-8"><div id=giscus></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/>giscus</a>.</noscript></div></article></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer" title="Hugo 0.147.7">Hugo</a> 强力驱动&nbsp;|&nbsp;主题 - <a href=https://github.com/HEIGE-PCloud/DoIt target=_blank rel="noopener noreferrer" title="DoIt 0.4.1"><svg class="icon" viewBox="0 0 576 512"><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1.0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7.0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174 402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7-43.2-43.2c-4.1-4.1-10.8-4.1-14.8.0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg> DoIt</a></div><div class=footer-line><svg class="icon" viewBox="0 0 512 512"><path d="M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 448c-110.532.0-2e2-89.451-2e2-2e2.0-110.531 89.451-2e2 2e2-2e2 110.532.0 2e2 89.451 2e2 2e2.0 110.532-89.451 2e2-2e2 2e2zm107.351-101.064c-9.614 9.712-45.53 41.396-104.065 41.396-82.43.0-140.484-61.425-140.484-141.567.0-79.152 60.275-139.401 139.762-139.401 55.531.0 88.738 26.62 97.593 34.779a11.965 11.965.0 011.936 15.322l-18.155 28.113c-3.841 5.95-11.966 7.282-17.499 2.921-8.595-6.776-31.814-22.538-61.708-22.538-48.303.0-77.916 35.33-77.916 80.082.0 41.589 26.888 83.692 78.277 83.692 32.657.0 56.843-19.039 65.726-27.225 5.27-4.857 13.596-4.039 17.82 1.738l19.865 27.17a11.947 11.947.0 01-1.152 15.518z"/></svg>2024 - 2025<span class=author>&nbsp;<a href=https://github.com/Salvely target=_blank rel="noopener noreferrer">Salvely</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class=footer-line></div><div class=footer-line></div></div></footer><div class="print:!tw-hidden tw-flex tw-flex-col tw-fixed tw-right-4 tw-bottom-4 tw-gap-2"><a href=#back-to-top id=back-to-top-button class="tw-transition-opacity tw-opacity-0 tw-block tw-bg-bgColor-secondary tw-rounded-full" style=padding:.6rem;line-height:1.3rem;font-size:1rem title=回到顶部><svg class="icon" viewBox="0 0 448 512"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6.0-33.9L207 39c9.4-9.4 24.6-9.4 33.9.0l194.3 194.3c9.4 9.4 9.4 24.6.0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3.0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg>
</a><button id=toc-drawer-button class="tw-block tw-bg-bgColor-secondary tw-rounded-full md:tw-hidden" style=padding:.6rem;line-height:1.3rem;font-size:1rem>
<svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg>
</button><a href=#comments id=view-comments class="tw-block tw-bg-bgColor-secondary tw-rounded-full" style=padding:.6rem;line-height:1.3rem;font-size:1rem title=查看评论>
<svg class="icon" viewBox="0 0 512 512"><path d="M256 32C114.6 32 0 125.1.0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3.0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4.0 256-93.1 256-208S397.4 32 256 32z"/></svg></a></div><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true, theme: (window.theme === 'dark' ? 'dark' : 'default') });
</script><script type=module>
        (async () => {
            const supportSpeculationRules = HTMLScriptElement.supports && HTMLScriptElement.supports("speculationrules");
            if (!supportSpeculationRules) {
              await import("\/lib\/instant.page\/instantpage.min.js");
            }
        })();
    </script><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/katex/copy-tex.min.css><noscript><link rel=stylesheet href=/lib/katex/copy-tex.min.css></noscript><script>window.config={"autocomplete.min.js":"/lib/autocomplete/autocomplete.min.js",comment:{giscus:{darkTheme:"dark",dataCategory:"Announcements",dataCategoryId:"DIC_kwDOM7VfQc4CjD-y",dataEmitMetadata:"0",dataInputPosition:"bottom",dataLang:"zh-CN",dataLoading:"lazy",dataMapping:"pathname",dataReactionsEnabled:"1",dataRepo:"Salvely/salvely.github.io",dataRepoId:"R_kgDOM7VfQQ",dataStrict:"0",lightTheme:"light"}},"fuse.min.js":"/lib/fuse/fuse.min.js",math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/index.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!0,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"没有找到结果",snippetLength:50,threshold:.1,type:"fuse",useExtendedSearch:!1},sharerjs:!0,table:{sort:!0}}</script><script src=/lib/tablesort/tablesort.min.js></script><script src=/lib/sharer/sharer.min.js></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/js/katex.min.js defer></script><script src=/js/theme.min.js defer></script><script src=/js/giscus.min.js defer></script><script type=speculationrules>
  {
    "prerender": [
      {
        "where": { "href_matches": "/*" },
        "eagerness": "moderate"
      }
    ]
  }
</script></body></html>